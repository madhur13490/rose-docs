<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ROSE: BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceBinaryAnalysis.html">BinaryAnalysis</a>::<a class="el" href="namespaceBinaryAnalysis_1_1InstructionSemantics.html">InstructionSemantics</a>::<a class="el" href="namespaceBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics.html">BaseSemantics</a>::<a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy.html">Policy</a></div>
<h1>BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy Class Reference</h1><!-- doxytag: class="BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy" --><code>#include &lt;<a class="el" href="BaseSemantics_8h-source.html">BaseSemantics.h</a>&gt;</code>
<p>
Inheritance diagram for BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy:<p><center><img src="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy__inherit__graph.png" border="0" usemap="#BinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy__inherit__map" alt="Inheritance graph"></center>
<map name="BinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy__inherit__map">
<area href="classBinaryAnalysis_1_1InstructionSemantics_1_1IntervalSemantics_1_1Policy.html" shape="rect" coords="835,5,1397,32" alt="">
<area href="classBinaryAnalysis_1_1InstructionSemantics_1_1MultiSemantics_1_1Policy.html" shape="rect" coords="468,56,1764,83" alt="">
<area href="classBinaryAnalysis_1_1InstructionSemantics_1_1NullSemantics_1_1Policy.html" shape="rect" coords="847,107,1385,133" alt="">
<area href="classBinaryAnalysis_1_1InstructionSemantics_1_1PartialSymbolicSemantics_1_1Policy.html" shape="rect" coords="811,157,1421,184" alt="">
<area href="classBinaryAnalysis_1_1InstructionSemantics_1_1SymbolicSemantics_1_1Policy.html" shape="rect" coords="829,208,1403,235" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy:<p><center><img src="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy__coll__graph.png" border="0" usemap="#BinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy__coll__map" alt="Collaboration graph"></center>
<map name="BinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy__coll__map">
<area href="classRegisterDictionary.html" shape="rect" coords="143,103,279,129" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Base class for most instruction semantics policies. 
<p>
Policies can be derived from the base class or they may implement the same interface. The policy is responsible for defining the semantics of the RISC-like operations invoked by the translation object (e.g., <a class="el" href="structBinaryAnalysis_1_1InstructionSemantics_1_1X86InstructionSemantics.html">X86InstructionSemantics</a>). We omit the declarations and definitions of the RISC operations from the base class so that failure to implement them in a subclass is an error. Their documentation can be found in the <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1NullSemantics_1_1Policy.html">NullSemantics::Policy</a> class. 
<p>

<p>
Definition at line <a class="el" href="BaseSemantics_8h-source.html#l00420">420</a> of file <a class="el" href="BaseSemantics_8h-source.html">BaseSemantics.h</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy.html#c6cf82ac1b796591f2eaed60d5ab192b">Policy</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="structRegisterDescriptor.html">RegisterDescriptor</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy.html#21cdf87a56a7faf11c48fc42a93eae5f">findRegister</a> (const std::string &amp;regname, size_t nbits=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup a register by name.  <a href="#21cdf87a56a7faf11c48fc42a93eae5f"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classRegisterDictionary.html">RegisterDictionary</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy.html#5a89b5a2003d29261604974403a946c2">get_register_dictionary</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Access the register dictionary.  <a href="#5a89b5a2003d29261604974403a946c2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy.html#15f3c95a570646499423995d64fb235d">set_register_dictionary</a> (const <a class="el" href="classRegisterDictionary.html">RegisterDictionary</a> *<a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy.html#3e03f1ef16ccc4ad06ec3027a3071efb">regdict</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Access the register dictionary.  <a href="#15f3c95a570646499423995d64fb235d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classRegisterDictionary.html">RegisterDictionary</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy.html#3e03f1ef16ccc4ad06ec3027a3071efb">regdict</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">See <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy.html#15f3c95a570646499423995d64fb235d">set_register_dictionary()</a>.  <a href="#3e03f1ef16ccc4ad06ec3027a3071efb"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy_1_1Exception.html">Exception</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instruction semantic policy exception.  <a href="structBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy_1_1Exception.html#_details">More...</a><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="c6cf82ac1b796591f2eaed60d5ab192b"></a><!-- doxytag: member="BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy::Policy" ref="c6cf82ac1b796591f2eaed60d5ab192b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy::Policy           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Reimplemented in <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1IntervalSemantics_1_1Policy.html#958a0853981aad3a6ec287819dfc6bf1">BinaryAnalysis::InstructionSemantics::IntervalSemantics::Policy&lt; State, ValueType &gt;</a>, <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1MultiSemantics_1_1Policy.html#fdfa5a2fc10b0df4a4d0a7bad33366e8">BinaryAnalysis::InstructionSemantics::MultiSemantics&lt; ValueType0, State0, Policy0, ValueType1, State1, Policy1, ValueType2, State2, Policy2, ValueType3, State3, Policy3 &gt;::Policy&lt; State, ValueType &gt;</a>, <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1NullSemantics_1_1Policy.html#d221cabfe9240f6736e011248e422071">BinaryAnalysis::InstructionSemantics::NullSemantics::Policy&lt; State, ValueType &gt;</a>, <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1PartialSymbolicSemantics_1_1Policy.html#63cd4fcd56e2d20deaffadf3356ae269">BinaryAnalysis::InstructionSemantics::PartialSymbolicSemantics::Policy&lt; State, ValueType &gt;</a>, and <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1SymbolicSemantics_1_1Policy.html#98f8b147b07649877681e35ae00f5847">BinaryAnalysis::InstructionSemantics::SymbolicSemantics::Policy&lt; State, ValueType &gt;</a>.
<p>
Definition at line <a class="el" href="BaseSemantics_8h-source.html#l00425">425</a> of file <a class="el" href="BaseSemantics_8h-source.html">BaseSemantics.h</a>.
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="5a89b5a2003d29261604974403a946c2"></a><!-- doxytag: member="BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy::get_register_dictionary" ref="5a89b5a2003d29261604974403a946c2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classRegisterDictionary.html">RegisterDictionary</a>* BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy::get_register_dictionary           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Access the register dictionary. 
<p>
The register dictionary defines the (superset) of registers stored in the policy's state(s). This dictionary is used by the semantic translation class to translate register names to register descriptors. For instance, to read from the "eax" register, the semantics will look up "eax" in the policy's register dictionary and then pass that descriptor to the policy's <a class="el" href="ReadWriteRegisterFragment_8h.html#dd3c870b898996f260418a165399b947">readRegister()</a> method. Register descriptors are also stored in instructions when the instruction is disassembled, so the disassembler and policy should probably be using the same dictionary.<p>
The register dictionary should not be changed after a translation object is instantiated because the translation object's constructor may query the dictionary and cache the resultant register descriptors. 
<p>
Definition at line <a class="el" href="BaseSemantics_8h-source.html#l00448">448</a> of file <a class="el" href="BaseSemantics_8h-source.html">BaseSemantics.h</a>.
<p>
References <a class="el" href="BaseSemantics_8h-source.html#l00422">regdict</a>.
<p>
Referenced by <a class="el" href="BaseSemantics_8h-source.html#l00459">findRegister()</a>.
</div>
</div><p>
<a class="anchor" name="15f3c95a570646499423995d64fb235d"></a><!-- doxytag: member="BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy::set_register_dictionary" ref="15f3c95a570646499423995d64fb235d" args="(const RegisterDictionary *regdict)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy::set_register_dictionary           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRegisterDictionary.html">RegisterDictionary</a> *&nbsp;</td>
          <td class="paramname"> <em>regdict</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Access the register dictionary. 
<p>
The register dictionary defines the (superset) of registers stored in the policy's state(s). This dictionary is used by the semantic translation class to translate register names to register descriptors. For instance, to read from the "eax" register, the semantics will look up "eax" in the policy's register dictionary and then pass that descriptor to the policy's <a class="el" href="ReadWriteRegisterFragment_8h.html#dd3c870b898996f260418a165399b947">readRegister()</a> method. Register descriptors are also stored in instructions when the instruction is disassembled, so the disassembler and policy should probably be using the same dictionary.<p>
The register dictionary should not be changed after a translation object is instantiated because the translation object's constructor may query the dictionary and cache the resultant register descriptors. 
<p>
Reimplemented in <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1MultiSemantics_1_1Policy.html#48e2e888c291c3e6da8ab2c7107d96de">BinaryAnalysis::InstructionSemantics::MultiSemantics&lt; ValueType0, State0, Policy0, ValueType1, State1, Policy1, ValueType2, State2, Policy2, ValueType3, State3, Policy3 &gt;::Policy&lt; State, ValueType &gt;</a>.
<p>
Definition at line <a class="el" href="BaseSemantics_8h-source.html#l00451">451</a> of file <a class="el" href="BaseSemantics_8h-source.html">BaseSemantics.h</a>.
<p>
References <a class="el" href="BaseSemantics_8h-source.html#l00422">regdict</a>.
<p>
Referenced by <a class="el" href="SymbolicSemantics_8h-source.html#l00582">BinaryAnalysis::InstructionSemantics::SymbolicSemantics::Policy&lt; State, ValueType &gt;::init()</a>, <a class="el" href="IntervalSemantics_8h-source.html#l00308">BinaryAnalysis::InstructionSemantics::IntervalSemantics::Policy&lt; State, ValueType &gt;::init()</a>, <a class="el" href="PartialSymbolicSemantics_8h-source.html#l00250">BinaryAnalysis::InstructionSemantics::PartialSymbolicSemantics::Policy&lt; State, ValueType &gt;::Policy()</a>, <a class="el" href="NullSemantics_8h-source.html#l00060">BinaryAnalysis::InstructionSemantics::NullSemantics::Policy&lt; State, ValueType &gt;::Policy()</a>, and <a class="el" href="MultiSemantics_8h-source.html#l00314">BinaryAnalysis::InstructionSemantics::MultiSemantics&lt; ValueType0, State0, Policy0, ValueType1, State1, Policy1, ValueType2, State2, Policy2, ValueType3, State3, Policy3 &gt;::Policy&lt; State, ValueType &gt;::Policy()</a>.
</div>
</div><p>
<a class="anchor" name="21cdf87a56a7faf11c48fc42a93eae5f"></a><!-- doxytag: member="BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy::findRegister" ref="21cdf87a56a7faf11c48fc42a93eae5f" args="(const std::string &amp;regname, size_t nbits=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structRegisterDescriptor.html">RegisterDescriptor</a>&amp; BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy::findRegister           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>regname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>nbits</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup a register by name. 
<p>
This policy's register dictionary is consulted and the specified register is located by name. If a bit width is specified (<code>nbits</code>) then it must match the size of register that was found. If a valid register cannot be found then an exception is thrown. 
<p>
Reimplemented in <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1IntervalSemantics_1_1Policy.html#ca1ec7b899c629cfcc13bad8891a0c66">BinaryAnalysis::InstructionSemantics::IntervalSemantics::Policy&lt; State, ValueType &gt;</a>, and <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1PartialSymbolicSemantics_1_1Policy.html#5f1717bd5c9919afcc0b591c4d7328a0">BinaryAnalysis::InstructionSemantics::PartialSymbolicSemantics::Policy&lt; State, ValueType &gt;</a>.
<p>
Definition at line <a class="el" href="BaseSemantics_8h-source.html#l00459">459</a> of file <a class="el" href="BaseSemantics_8h-source.html">BaseSemantics.h</a>.
<p>
References <a class="el" href="Cxx__Grammar_8h-source.html#l05154">RegisterDescriptor::get_nbits()</a>, <a class="el" href="BaseSemantics_8h-source.html#l00448">get_register_dictionary()</a>, <a class="el" href="Registers_8C-source.html#l00061">RegisterDictionary::lookup()</a>, and <a class="el" href="BaseSemantics_8h-source.html#l00422">regdict</a>.
<p>
Referenced by <a class="el" href="SymbolicSemantics_8h-source.html#l01405">BinaryAnalysis::InstructionSemantics::SymbolicSemantics::Policy&lt; State, ValueType &gt;::readRegister()</a>, and <a class="el" href="SymbolicSemantics_8h-source.html#l01411">BinaryAnalysis::InstructionSemantics::SymbolicSemantics::Policy&lt; State, ValueType &gt;::writeRegister()</a>.
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="3e03f1ef16ccc4ad06ec3027a3071efb"></a><!-- doxytag: member="BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy::regdict" ref="3e03f1ef16ccc4ad06ec3027a3071efb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classRegisterDictionary.html">RegisterDictionary</a>* <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy.html#3e03f1ef16ccc4ad06ec3027a3071efb">BinaryAnalysis::InstructionSemantics::BaseSemantics::Policy::regdict</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
See <a class="el" href="classBinaryAnalysis_1_1InstructionSemantics_1_1BaseSemantics_1_1Policy.html#15f3c95a570646499423995d64fb235d">set_register_dictionary()</a>. 
<p>

<p>
Definition at line <a class="el" href="BaseSemantics_8h-source.html#l00422">422</a> of file <a class="el" href="BaseSemantics_8h-source.html">BaseSemantics.h</a>.
<p>
Referenced by <a class="el" href="BaseSemantics_8h-source.html#l00459">findRegister()</a>, <a class="el" href="BaseSemantics_8h-source.html#l00448">get_register_dictionary()</a>, and <a class="el" href="BaseSemantics_8h-source.html#l00451">set_register_dictionary()</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="BaseSemantics_8h-source.html">BaseSemantics.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on 20 Jan 2013 for ROSE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
