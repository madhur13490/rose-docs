<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ROSE: MemoryMap::AnonymousBuffer Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="classMemoryMap.html">MemoryMap</a>::<a class="el" href="classMemoryMap_1_1AnonymousBuffer.html">AnonymousBuffer</a></div>
<h1>MemoryMap::AnonymousBuffer Class Reference</h1><!-- doxytag: class="MemoryMap::AnonymousBuffer" --><!-- doxytag: inherits="MemoryMap::ExternBuffer" --><code>#include &lt;<a class="el" href="MemoryMap_8h-source.html">MemoryMap.h</a>&gt;</code>
<p>
Inheritance diagram for MemoryMap::AnonymousBuffer:<p><center><img src="classMemoryMap_1_1AnonymousBuffer__inherit__graph.png" border="0" usemap="#MemoryMap_1_1AnonymousBuffer__inherit__map" alt="Inheritance graph"></center>
<map name="MemoryMap_1_1AnonymousBuffer__inherit__map">
<area href="classMemoryMap_1_1ExternBuffer.html" shape="rect" coords="23,84,212,111" alt="">
<area href="classMemoryMap_1_1Buffer.html" shape="rect" coords="44,7,191,33" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for MemoryMap::AnonymousBuffer:<p><center><img src="classMemoryMap_1_1AnonymousBuffer__coll__graph.png" border="0" usemap="#MemoryMap_1_1AnonymousBuffer__coll__map" alt="Collaboration graph"></center>
<map name="MemoryMap_1_1AnonymousBuffer__coll__map">
<area href="classMemoryMap_1_1ExternBuffer.html" shape="rect" coords="23,183,212,209" alt="">
<area href="classMemoryMap_1_1Buffer.html" shape="rect" coords="44,103,191,129" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classMemoryMap_1_1AnonymousBuffer-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="classMemoryMap_1_1Buffer.html">Buffer</a> of bytes. 
<p>
The bytes are initialized to all zero and storage is allocated only when a non-zero value is written to the buffer. 
<p>

<p>
Definition at line <a class="el" href="MemoryMap_8h-source.html#l00266">266</a> of file <a class="el" href="MemoryMap_8h-source.html">MemoryMap.h</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryMap_1_1AnonymousBuffer.html#08c2241bc7426486dbddfd453841f3a3">~AnonymousBuffer</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classMemoryMap.html#3fcd4dad3786a2b27069c7891eb7b378">BufferPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryMap_1_1AnonymousBuffer.html#3db3e923b5e8c35a3ec707ac57b15c0f">clone</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new buffer from an existing buffer.  <a href="#3db3e923b5e8c35a3ec707ac57b15c0f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual const void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryMap_1_1AnonymousBuffer.html#29d26025f8e9ab98b92d5a73119f2052">get_data_ptr</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return pointer to low-level data.  <a href="#29d26025f8e9ab98b92d5a73119f2052"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryMap_1_1AnonymousBuffer.html#660a9598ff695a9fed6a0cfb0d658d15">read</a> (void *, size_t offset, size_t nbytes) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads data from a buffer.  <a href="#660a9598ff695a9fed6a0cfb0d658d15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryMap_1_1AnonymousBuffer.html#d3b80367f305442147ec24883468228b">write</a> (const void *, size_t offset, size_t nbytes)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes data into a buffer.  <a href="#d3b80367f305442147ec24883468228b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryMap_1_1AnonymousBuffer.html#c13c2737f298a3db16b728eccdc98a8f">is_zero</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if the buffer's data is all zero.  <a href="#c13c2737f298a3db16b728eccdc98a8f"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classMemoryMap.html#3fcd4dad3786a2b27069c7891eb7b378">BufferPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryMap_1_1AnonymousBuffer.html#c505a126ddae1c6be6630c47b69b8fad">create</a> (size_t size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct an anonymous buffer.  <a href="#c505a126ddae1c6be6630c47b69b8fad"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryMap_1_1AnonymousBuffer.html#3e2d4707b68c42c93463e01c7bb90c3f">AnonymousBuffer</a> (size_t size)</td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="08c2241bc7426486dbddfd453841f3a3"></a><!-- doxytag: member="MemoryMap::AnonymousBuffer::~AnonymousBuffer" ref="08c2241bc7426486dbddfd453841f3a3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual MemoryMap::AnonymousBuffer::~AnonymousBuffer           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="MemoryMap_8h-source.html#l00268">268</a> of file <a class="el" href="MemoryMap_8h-source.html">MemoryMap.h</a>.
<p>
References <a class="el" href="MemoryMap_8h-source.html#l00220">MemoryMap::ExternBuffer::p_data</a>.
</div>
</div><p>
<a class="anchor" name="3e2d4707b68c42c93463e01c7bb90c3f"></a><!-- doxytag: member="MemoryMap::AnonymousBuffer::AnonymousBuffer" ref="3e2d4707b68c42c93463e01c7bb90c3f" args="(size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MemoryMap::AnonymousBuffer::AnonymousBuffer           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="MemoryMap_8h-source.html#l00281">281</a> of file <a class="el" href="MemoryMap_8h-source.html">MemoryMap.h</a>.
<p>
Referenced by <a class="el" href="MemoryMap_8C-source.html#l00231">create()</a>.
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="c505a126ddae1c6be6630c47b69b8fad"></a><!-- doxytag: member="MemoryMap::AnonymousBuffer::create" ref="c505a126ddae1c6be6630c47b69b8fad" args="(size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMemoryMap.html#3fcd4dad3786a2b27069c7891eb7b378">MemoryMap::BufferPtr</a> MemoryMap::AnonymousBuffer::create           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct an anonymous buffer. 
<p>
Storage for the buffer is allocated when a non-zero value is written to the buffer. Reads from unallocated buffers return all zero bytes. 
<p>
Definition at line <a class="el" href="MemoryMap_8C-source.html#l00231">231</a> of file <a class="el" href="MemoryMap_8C-source.html">MemoryMap.C</a>.
<p>
References <a class="el" href="MemoryMap_8h-source.html#l00281">AnonymousBuffer()</a>, <a class="el" href="MemoryMap_8h-source.html#l00134">MemoryMap::Buffer::get_name()</a>, and <a class="el" href="MemoryMap_8h-source.html#l00135">MemoryMap::Buffer::set_name()</a>.
<p>
Referenced by <a class="el" href="MemoryMap_8C-source.html#l00239">clone()</a>, and <a class="el" href="Partitioner_8C-source.html#l01019">Partitioner::mark_ipd_configuration()</a>.
</div>
</div><p>
<a class="anchor" name="3db3e923b5e8c35a3ec707ac57b15c0f"></a><!-- doxytag: member="MemoryMap::AnonymousBuffer::clone" ref="3db3e923b5e8c35a3ec707ac57b15c0f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMemoryMap.html#3fcd4dad3786a2b27069c7891eb7b378">MemoryMap::BufferPtr</a> MemoryMap::AnonymousBuffer::clone           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new buffer from an existing buffer. 
<p>
The new buffer will point to a different copy of the data so that writing data into one buffer will not cause it to appear when reading from the other buffer. The type of the new buffer might not be the same as this buffer because not all buffers are able to copy their data. For instance, cloning an <a class="el" href="classMemoryMap_1_1ExternBuffer.html">ExternBuffer</a> or a <a class="el" href="classMemoryMap_1_1MmapBuffer.html">MmapBuffer</a> will create a <a class="el" href="classMemoryMap_1_1ByteBuffer.html">ByteBuffer</a>. 
<p>
Reimplemented from <a class="el" href="classMemoryMap_1_1ExternBuffer.html#9081d77099bba68dc0df4abc66da117b">MemoryMap::ExternBuffer</a>.
<p>
Definition at line <a class="el" href="MemoryMap_8C-source.html#l00239">239</a> of file <a class="el" href="MemoryMap_8C-source.html">MemoryMap.C</a>.
<p>
References <a class="el" href="MemoryMap_8C-source.html#l00149">MemoryMap::ExternBuffer::clone()</a>, <a class="el" href="MemoryMap_8C-source.html#l00231">create()</a>, <a class="el" href="MemoryMap_8h-source.html#l00220">MemoryMap::ExternBuffer::p_data</a>, and <a class="el" href="MemoryMap_8h-source.html#l00140">MemoryMap::Buffer::size()</a>.
</div>
</div><p>
<a class="anchor" name="29d26025f8e9ab98b92d5a73119f2052"></a><!-- doxytag: member="MemoryMap::AnonymousBuffer::get_data_ptr" ref="29d26025f8e9ab98b92d5a73119f2052" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void * MemoryMap::AnonymousBuffer::get_data_ptr           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return pointer to low-level data. 
<p>
This probably shouldn't be used to access the data because it makes assumptions about the implementation (use <a class="el" href="classMemoryMap_1_1AnonymousBuffer.html#660a9598ff695a9fed6a0cfb0d658d15">read()</a> and <a class="el" href="classMemoryMap_1_1AnonymousBuffer.html#d3b80367f305442147ec24883468228b">write()</a> methods instead). But it is sometimes useful when trying to determine if a buffer was initialized with data known to the caller. 
<p>
Reimplemented from <a class="el" href="classMemoryMap_1_1ExternBuffer.html#f14ba7b7d5aaadbdaf67c534d797b106">MemoryMap::ExternBuffer</a>.
<p>
Definition at line <a class="el" href="MemoryMap_8C-source.html#l00284">284</a> of file <a class="el" href="MemoryMap_8C-source.html">MemoryMap.C</a>.
<p>
References <a class="el" href="MemoryMap_8h-source.html#l00211">MemoryMap::ExternBuffer::get_data_ptr()</a>, <a class="el" href="MemoryMap_8h-source.html#l00220">MemoryMap::ExternBuffer::p_data</a>, and <a class="el" href="MemoryMap_8h-source.html#l00140">MemoryMap::Buffer::size()</a>.
</div>
</div><p>
<a class="anchor" name="660a9598ff695a9fed6a0cfb0d658d15"></a><!-- doxytag: member="MemoryMap::AnonymousBuffer::read" ref="660a9598ff695a9fed6a0cfb0d658d15" args="(void *, size_t offset, size_t nbytes) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t MemoryMap::AnonymousBuffer::read           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>nbytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads data from a buffer. 
<p>
Reads up to <code>nbytes</code> of data from this buffer and copies it to the caller-supplied address, the <code>buf</code> argument. Reading starts at the specified byte offset from the beginning of this buffer. Returns the number of bytes copied. The output buffer is not zero-padded for short reads.<p>
If <code>buf</code> is the null pointer, then no data is copied and the return value is the number of bytes that would have been copied if <code>buf</code> had not been null. 
<p>
Reimplemented from <a class="el" href="classMemoryMap_1_1ExternBuffer.html#75779929cdef8292c6fb0b34a998d910">MemoryMap::ExternBuffer</a>.
<p>
Definition at line <a class="el" href="MemoryMap_8C-source.html#l00247">247</a> of file <a class="el" href="MemoryMap_8C-source.html">MemoryMap.C</a>.
<p>
References <a class="el" href="MemoryMap_8h-source.html#l00220">MemoryMap::ExternBuffer::p_data</a>, and <a class="el" href="MemoryMap_8h-source.html#l00140">MemoryMap::Buffer::size()</a>.
</div>
</div><p>
<a class="anchor" name="d3b80367f305442147ec24883468228b"></a><!-- doxytag: member="MemoryMap::AnonymousBuffer::write" ref="d3b80367f305442147ec24883468228b" args="(const void *, size_t offset, size_t nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t MemoryMap::AnonymousBuffer::write           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>nbytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes data into a buffer. 
<p>
Writes up to <code>nbytes</code> of data from <code>buf</code> into this buffer starting at the specified byte offset within this buffer. Returns the number of bytes written. The return value will be less than <code>nbytes</code> if an error occurs. 
<p>
Reimplemented from <a class="el" href="classMemoryMap_1_1ExternBuffer.html#a106e51581979addeff1e6c7772c0e83">MemoryMap::ExternBuffer</a>.
<p>
Definition at line <a class="el" href="MemoryMap_8C-source.html#l00263">263</a> of file <a class="el" href="MemoryMap_8C-source.html">MemoryMap.C</a>.
<p>
References <a class="el" href="MemoryMap_8h-source.html#l00220">MemoryMap::ExternBuffer::p_data</a>, and <a class="el" href="MemoryMap_8h-source.html#l00140">MemoryMap::Buffer::size()</a>.
</div>
</div><p>
<a class="anchor" name="c13c2737f298a3db16b728eccdc98a8f"></a><!-- doxytag: member="MemoryMap::AnonymousBuffer::is_zero" ref="c13c2737f298a3db16b728eccdc98a8f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MemoryMap::AnonymousBuffer::is_zero           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns true if the buffer's data is all zero. 
<p>
Some subclasses will be able to do something more efficient than reading all the data. 
<p>
Reimplemented from <a class="el" href="classMemoryMap_1_1Buffer.html#2ca3a091ac15507b1d30f8733a5faef1">MemoryMap::Buffer</a>.
<p>
Definition at line <a class="el" href="MemoryMap_8C-source.html#l00294">294</a> of file <a class="el" href="MemoryMap_8C-source.html">MemoryMap.C</a>.
<p>
References <a class="el" href="MemoryMap_8C-source.html#l00113">MemoryMap::Buffer::is_zero()</a>, and <a class="el" href="MemoryMap_8h-source.html#l00220">MemoryMap::ExternBuffer::p_data</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="MemoryMap_8h-source.html">MemoryMap.h</a><li><a class="el" href="MemoryMap_8C-source.html">MemoryMap.C</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on 20 Jan 2013 for ROSE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
