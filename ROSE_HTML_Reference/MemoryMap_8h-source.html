<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ROSE: MemoryMap.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>MemoryMap.h</h1><a href="MemoryMap_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef ROSE_MemoryMap_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define ROSE_MemoryMap_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;boost/shared_ptr.hpp&gt;</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="comment">/* Increase ADDR if necessary to make it a multiple of ALMNT */</span>
<a name="l00007"></a><a class="code" href="MemoryMap_8h.html#1d446e305acb3a6aaa3bea9cce6f0aa4">00007</a> <span class="preprocessor">#define ALIGN_UP(ADDR,ALMNT)       ((((ADDR)+(ALMNT)-1)/(ALMNT))*(ALMNT))</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="comment">/* Decrease ADDR if necessary to make it a multiple of ALMNT */</span>
<a name="l00010"></a><a class="code" href="MemoryMap_8h.html#b0764bedb6a0d28eecde9f827799f6b4">00010</a> <span class="preprocessor">#define ALIGN_DN(ADDR,ALMNT)       (((ADDR)/(ALMNT))*(ALMNT))</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span>
<a name="l00012"></a>00012 
<a name="l00069"></a><a class="code" href="classMemoryMap.html">00069</a> <span class="keyword">class </span><a class="code" href="classMemoryMap.html">MemoryMap</a> {
<a name="l00070"></a>00070 <span class="keyword">public</span>:
<a name="l00071"></a>00071 
<a name="l00073"></a><a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575">00073</a>     <span class="keyword">enum</span> <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575">Protection</a> {
<a name="l00074"></a>00074         <span class="comment">/* Protection bits */</span>
<a name="l00075"></a>00075         <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575cacde481f9cbe4995f73568e0d0be55e">MM_PROT_BITS</a>    = 0x00000007,     <span class="comment">/*NO_STRINGIFY*/</span>
<a name="l00076"></a>00076         <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575721c493a6d527e717ffd911d2f18060f">MM_PROT_READ</a>    = 0x00000001,    
<a name="l00077"></a>00077         <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575ba37f8b609f7bd6bc6a454be584726df">MM_PROT_WRITE</a>   = 0x00000002,    
<a name="l00078"></a>00078         <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575a061dc1ffe578fdaea067d730efb00ac">MM_PROT_EXEC</a>    = 0x00000004,    
<a name="l00080"></a>00080         <span class="comment">/* Protection convenience stuff */</span>
<a name="l00081"></a>00081         <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd57544ce6196a00fe1b9a997bbd34b607f12">MM_PROT_NONE</a>    = 0x00000000,    
<a name="l00082"></a>00082         <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575879a02b819512db1be014e27610f9448">MM_PROT_ANY</a>     = 0x00000007,    
<a name="l00083"></a>00083         <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd5757928ac57b8a90b020a73405a03fdfe3d">MM_PROT_RW</a>      = (<a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575721c493a6d527e717ffd911d2f18060f">MM_PROT_READ</a>|<a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575ba37f8b609f7bd6bc6a454be584726df">MM_PROT_WRITE</a>),                   <span class="comment">/*NO_STRINGIFY*/</span>
<a name="l00084"></a>00084         <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd57589290f94ccb75d2e8b659c4ef50bb700">MM_PROT_RX</a>      = (<a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575721c493a6d527e717ffd911d2f18060f">MM_PROT_READ</a>|<a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575a061dc1ffe578fdaea067d730efb00ac">MM_PROT_EXEC</a>),                  <span class="comment">/*NO_STRINGIFY*/</span>
<a name="l00085"></a>00085         <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd5751c088a07943114be142477c0c13a40ae">MM_PROT_RWX</a>     = (<a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575879a02b819512db1be014e27610f9448">MM_PROT_ANY</a>),                                                        <span class="comment">/*NO_STRINGIFY*/</span>
<a name="l00086"></a>00086 
<a name="l00087"></a>00087         <span class="comment">/* Other flags. These generally aren't interpreted by MemoryMap, but can be used to pass info.  When merging memory</span>
<a name="l00088"></a>00088 <span class="comment">         * segments, MemoryMap::Segment::merge() will not treat two regions as being consistent if they have different</span>
<a name="l00089"></a>00089 <span class="comment">         * bits set. */</span>
<a name="l00090"></a>00090         <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575a4b0336509df0d1ffacee7b2d8aaf2a1">MM_PROT_FLAGS</a>   = 0xfffffff0,   
<a name="l00091"></a>00091         <a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575142989711b3e75e3e66a96461b8fbd6a">MM_PROT_PRIVATE</a> = 0x00000010,   
<a name="l00092"></a>00092     };
<a name="l00093"></a>00093 
<a name="l00095"></a><a class="code" href="classMemoryMap.html#e687c5c475ed18d7d747d672e54e3aef">00095</a>     <span class="keyword">enum</span> <a class="code" href="classMemoryMap.html#e687c5c475ed18d7d747d672e54e3aef">CopyLevel</a> {
<a name="l00096"></a>00096         <a class="code" href="classMemoryMap.html#e687c5c475ed18d7d747d672e54e3aef7e46f89c5a5b88fda5e18612c7ed100b">COPY_SHALLOW</a>,                   
<a name="l00097"></a>00097         <a class="code" href="classMemoryMap.html#e687c5c475ed18d7d747d672e54e3aefc5ee4ee2a54afd2865f02c9df5f60ad8">COPY_DEEP</a>,                      
<a name="l00098"></a><a class="code" href="classMemoryMap.html#e687c5c475ed18d7d747d672e54e3aef67d781375bccde7428a844b6504ec3ac">00098</a>         <a class="code" href="classMemoryMap.html#e687c5c475ed18d7d747d672e54e3aef67d781375bccde7428a844b6504ec3ac">COPY_ON_WRITE</a>                   
<a name="l00099"></a>00099     };
<a name="l00100"></a>00100 
<a name="l00101"></a>00101     <span class="comment">/**************************************************************************************************************************</span>
<a name="l00102"></a>00102 <span class="comment">     *                                  Buffers</span>
<a name="l00103"></a>00103 <span class="comment">     **************************************************************************************************************************/</span>
<a name="l00104"></a>00104 <span class="keyword">public</span>:
<a name="l00105"></a><a class="code" href="classMemoryMap.html#3fcd4dad3786a2b27069c7891eb7b378">00105</a>     <span class="keyword">class </span><a class="code" href="classMemoryMap_1_1Buffer.html">Buffer</a>;
<a name="l00106"></a>00106     <span class="keyword">typedef</span> boost::shared_ptr&lt;Buffer&gt; <a class="code" href="classMemoryMap.html#3fcd4dad3786a2b27069c7891eb7b378">BufferPtr</a>;
<a name="l00107"></a>00107 
<a name="l00112"></a><a class="code" href="classMemoryMap_1_1Buffer.html">00112</a>     <span class="keyword">class </span><a class="code" href="classMemoryMap_1_1Buffer.html">Buffer</a> {
<a name="l00113"></a>00113     <span class="keyword">public</span>:
<a name="l00114"></a><a class="code" href="classMemoryMap_1_1Buffer.html#a5bce7dcaae790fcd8807896ae3e1ec2">00114</a>         <span class="keyword">virtual</span> <a class="code" href="classMemoryMap_1_1Buffer.html#a5bce7dcaae790fcd8807896ae3e1ec2">~Buffer</a>() {}
<a name="l00115"></a>00115 
<a name="l00120"></a>00120         <span class="keyword">virtual</span> BufferPtr <a class="code" href="classMemoryMap_1_1Buffer.html#a78d68d5a39a23c365b3b755dba0e89d">clone</a>() <span class="keyword">const </span>= 0;
<a name="l00121"></a>00121 
<a name="l00126"></a><a class="code" href="classMemoryMap_1_1Buffer.html#1e14fb06ac27190fe9593c2433c51475">00126</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap_1_1Buffer.html#1e14fb06ac27190fe9593c2433c51475">is_read_only</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemoryMap_1_1Buffer.html#aee0541d65b3ac397603cb792c46cd41">read_only</a>; }
<a name="l00127"></a><a class="code" href="classMemoryMap_1_1Buffer.html#57cd832b7e5c35d793b0e1fd4aba2d73">00127</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Buffer.html#57cd832b7e5c35d793b0e1fd4aba2d73">set_read_only</a>(<span class="keywordtype">bool</span> b=<span class="keyword">true</span>) { <a class="code" href="classMemoryMap_1_1Buffer.html#aee0541d65b3ac397603cb792c46cd41">read_only</a> = b; }
<a name="l00128"></a><a class="code" href="classMemoryMap_1_1Buffer.html#b718867ffe082bdb71796453069908ab">00128</a>         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Buffer.html#b718867ffe082bdb71796453069908ab">clear_read_only</a>() { <a class="code" href="classMemoryMap_1_1Buffer.html#57cd832b7e5c35d793b0e1fd4aba2d73">set_read_only</a>(<span class="keyword">false</span>); } <span class="comment">// final</span>
<a name="l00134"></a><a class="code" href="classMemoryMap_1_1Buffer.html#09baf3616ab4569cdc96aa72f733f44e">00134</a> <span class="comment"></span>        <span class="keyword">virtual</span> std::string <a class="code" href="classMemoryMap_1_1Buffer.html#09baf3616ab4569cdc96aa72f733f44e">get_name</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemoryMap_1_1Buffer.html#fc6612588ea07a7c15485fd4843624b5">name</a>; }
<a name="l00135"></a><a class="code" href="classMemoryMap_1_1Buffer.html#a09683309fe0d28b3ae49b517e9c76dd">00135</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Buffer.html#a09683309fe0d28b3ae49b517e9c76dd">set_name</a>(<span class="keyword">const</span> std::string &amp;s) { <a class="code" href="classMemoryMap_1_1Buffer.html#fc6612588ea07a7c15485fd4843624b5">name</a> = s; }
<a name="l00140"></a><a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">00140</a>         <span class="keyword">virtual</span> size_t <a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemoryMap_1_1Buffer.html#33a0bdf7b7c6e5cca592980ba41c652c">p_size</a>; }
<a name="l00141"></a><a class="code" href="classMemoryMap_1_1Buffer.html#53000077eeca164ff89e63a63cdc1593">00141</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Buffer.html#53000077eeca164ff89e63a63cdc1593">resize</a>(size_t n) { <a class="code" href="classMemoryMap_1_1Buffer.html#33a0bdf7b7c6e5cca592980ba41c652c">p_size</a> = n; }
<a name="l00150"></a>00150         <span class="keyword">virtual</span> size_t <a class="code" href="classMemoryMap_1_1Buffer.html#800aa0a7003a265888ae75a8a6442f0e">read</a>(<span class="keywordtype">void</span> *buf, size_t offset, size_t nbytes) <span class="keyword">const </span>= 0;
<a name="l00151"></a>00151 
<a name="l00155"></a>00155         <span class="keyword">virtual</span> size_t <a class="code" href="classMemoryMap_1_1Buffer.html#946ad186eb975302686978cd125e730e">write</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *buf, size_t offset, size_t nbytes) = 0;
<a name="l00156"></a>00156 
<a name="l00159"></a>00159         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Buffer.html#12a3675dbef7699e210a9fe565d5073f">save</a>(<span class="keyword">const</span> std::string &amp;filename) <span class="keyword">const</span>;
<a name="l00160"></a>00160 
<a name="l00164"></a>00164         <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="classMemoryMap_1_1Buffer.html#4fa4f74bef23c6c87447d6ebf8b8f806">get_data_ptr</a>() <span class="keyword">const </span>= 0;
<a name="l00165"></a>00165 
<a name="l00168"></a>00168         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap_1_1Buffer.html#2ca3a091ac15507b1d30f8733a5faef1">is_zero</a>() <span class="keyword">const</span>;
<a name="l00169"></a>00169 
<a name="l00170"></a>00170     <span class="keyword">protected</span>:
<a name="l00171"></a><a class="code" href="classMemoryMap_1_1Buffer.html#ad39d56c3614520c7101931f03c5a164">00171</a>         <a class="code" href="classMemoryMap_1_1Buffer.html#ad39d56c3614520c7101931f03c5a164">Buffer</a>(size_t <a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">size</a>): <a class="code" href="classMemoryMap_1_1Buffer.html#aee0541d65b3ac397603cb792c46cd41">read_only</a>(false), <a class="code" href="classMemoryMap_1_1Buffer.html#33a0bdf7b7c6e5cca592980ba41c652c">p_size</a>(size) { <a class="code" href="classMemoryMap_1_1Buffer.html#fc6612588ea07a7c15485fd4843624b5">name</a>=<a class="code" href="classMemoryMap_1_1Buffer.html#10fb19b17d836d9d4c1330d1ae7d9235">new_name</a>(); }
<a name="l00172"></a>00172         std::string <a class="code" href="classMemoryMap_1_1Buffer.html#10fb19b17d836d9d4c1330d1ae7d9235">new_name</a>() <span class="comment">/*final*/</span>;
<a name="l00173"></a>00173 
<a name="l00174"></a><a class="code" href="classMemoryMap_1_1Buffer.html#aee0541d65b3ac397603cb792c46cd41">00174</a>         <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap_1_1Buffer.html#aee0541d65b3ac397603cb792c46cd41">read_only</a>;                         
<a name="l00175"></a><a class="code" href="classMemoryMap_1_1Buffer.html#fc6612588ea07a7c15485fd4843624b5">00175</a>         std::string <a class="code" href="classMemoryMap_1_1Buffer.html#fc6612588ea07a7c15485fd4843624b5">name</a>;                       
<a name="l00176"></a><a class="code" href="classMemoryMap_1_1Buffer.html#33a0bdf7b7c6e5cca592980ba41c652c">00176</a>         size_t <a class="code" href="classMemoryMap_1_1Buffer.html#33a0bdf7b7c6e5cca592980ba41c652c">p_size</a>;                          
<a name="l00177"></a>00177     };
<a name="l00178"></a>00178 
<a name="l00181"></a><a class="code" href="classMemoryMap_1_1NullBuffer.html">00181</a>     <span class="keyword">class </span><a class="code" href="classMemoryMap_1_1NullBuffer.html">NullBuffer</a>: <span class="keyword">public</span> <a class="code" href="classMemoryMap_1_1Buffer.html">Buffer</a> {
<a name="l00182"></a>00182     <span class="keyword">public</span>:
<a name="l00184"></a>00184         <span class="keyword">static</span> BufferPtr <a class="code" href="classMemoryMap_1_1NullBuffer.html#08aaaba141bcf00802f42b7fd452f712">create</a>(size_t <a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">size</a>);
<a name="l00185"></a>00185 
<a name="l00187"></a><a class="code" href="classMemoryMap_1_1NullBuffer.html#39a961a8cbf596ad03150ed65598f2ce">00187</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="classMemoryMap_1_1NullBuffer.html#39a961a8cbf596ad03150ed65598f2ce">get_data_ptr</a>() const <span class="comment">/*overrides*/</span> { <span class="keywordflow">return</span> NULL; }
<a name="l00188"></a>00188 
<a name="l00189"></a><a class="code" href="classMemoryMap_1_1NullBuffer.html#60b403d12ed1587a0475dd10770560c0">00189</a>         <span class="keyword">virtual</span> BufferPtr <a class="code" href="classMemoryMap_1_1NullBuffer.html#60b403d12ed1587a0475dd10770560c0">clone</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemoryMap_1_1NullBuffer.html#08aaaba141bcf00802f42b7fd452f712">create</a>(<a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">size</a>()); }
<a name="l00190"></a><a class="code" href="classMemoryMap_1_1NullBuffer.html#66b9964d965239c735536cdf03bbdc2e">00190</a>         <span class="keyword">virtual</span> size_t <a class="code" href="classMemoryMap_1_1NullBuffer.html#66b9964d965239c735536cdf03bbdc2e">read</a>(<span class="keywordtype">void</span>*, size_t offset, size_t nbytes) <span class="keyword">const</span> <span class="comment">/*overrides*/</span> { <span class="keywordflow">return</span> 0; }
<a name="l00191"></a><a class="code" href="classMemoryMap_1_1NullBuffer.html#51cffe89bbb47477362c6745e69311c3">00191</a>         <span class="keyword">virtual</span> size_t <a class="code" href="classMemoryMap_1_1NullBuffer.html#51cffe89bbb47477362c6745e69311c3">write</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>*, size_t offset, size_t nbytes) <span class="comment">/*overrides*/</span> { <span class="keywordflow">return</span> 0; }
<a name="l00192"></a>00192 
<a name="l00193"></a>00193     <span class="keyword">protected</span>:
<a name="l00194"></a><a class="code" href="classMemoryMap_1_1NullBuffer.html#c75ceeb4a2c3ccce579496d32cbe18a2">00194</a>         <a class="code" href="classMemoryMap_1_1NullBuffer.html#c75ceeb4a2c3ccce579496d32cbe18a2">NullBuffer</a>(size_t size): <a class="code" href="classMemoryMap_1_1Buffer.html">Buffer</a>(size) {}
<a name="l00195"></a>00195     };
<a name="l00196"></a>00196 
<a name="l00199"></a><a class="code" href="classMemoryMap_1_1ExternBuffer.html">00199</a>     <span class="keyword">class </span><a class="code" href="classMemoryMap_1_1ExternBuffer.html">ExternBuffer</a>: <span class="keyword">public</span> <a class="code" href="classMemoryMap_1_1Buffer.html">Buffer</a> {
<a name="l00200"></a>00200     <span class="keyword">public</span>:
<a name="l00205"></a>00205         <span class="keyword">static</span> BufferPtr <a class="code" href="classMemoryMap_1_1ExternBuffer.html#84cf5d396b6cca4a0f4289b6f80e7982">create</a>(<span class="keywordtype">void</span> *data, size_t <a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">size</a>);
<a name="l00206"></a>00206         <span class="keyword">static</span> BufferPtr <a class="code" href="classMemoryMap_1_1ExternBuffer.html#84cf5d396b6cca4a0f4289b6f80e7982">create</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *data, size_t size);
<a name="l00209"></a>00209         <span class="keyword">virtual</span> BufferPtr <a class="code" href="classMemoryMap_1_1ExternBuffer.html#9081d77099bba68dc0df4abc66da117b">clone</a>() <span class="keyword">const</span>;
<a name="l00210"></a>00210         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1ExternBuffer.html#bd5b39e0bc4112830a1820cb8e389531">resize</a>(size_t n) <span class="comment">/*overrides*/</span>;
<a name="l00211"></a><a class="code" href="classMemoryMap_1_1ExternBuffer.html#f14ba7b7d5aaadbdaf67c534d797b106">00211</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="classMemoryMap_1_1ExternBuffer.html#f14ba7b7d5aaadbdaf67c534d797b106">get_data_ptr</a>() const <span class="comment">/*overrides*/</span> { <span class="keywordflow">return</span> <a class="code" href="classMemoryMap_1_1ExternBuffer.html#ea7350d127d27f6db3e7af005192df80">p_data</a>; }
<a name="l00212"></a>00212         <span class="keyword">virtual</span> size_t <a class="code" href="classMemoryMap_1_1ExternBuffer.html#75779929cdef8292c6fb0b34a998d910">read</a>(<span class="keywordtype">void</span>*, size_t offset, size_t nbytes) <span class="keyword">const</span> <span class="comment">/*overrides*/</span>;
<a name="l00213"></a>00213         <span class="keyword">virtual</span> size_t <a class="code" href="classMemoryMap_1_1ExternBuffer.html#a106e51581979addeff1e6c7772c0e83">write</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>*, size_t offset, size_t nbytes) <span class="comment">/*overrides*/</span>;
<a name="l00214"></a>00214 
<a name="l00215"></a>00215     <span class="keyword">protected</span>:
<a name="l00216"></a><a class="code" href="classMemoryMap_1_1ExternBuffer.html#0a34e57b9cb724d300b42548047235c2">00216</a>         <a class="code" href="classMemoryMap_1_1ExternBuffer.html#0a34e57b9cb724d300b42548047235c2">ExternBuffer</a>(<span class="keyword">const</span> uint8_t *data, size_t size)
<a name="l00217"></a>00217             : <a class="code" href="classMemoryMap_1_1Buffer.html">Buffer</a>(size), <a class="code" href="classMemoryMap_1_1ExternBuffer.html#ea7350d127d27f6db3e7af005192df80">p_data</a>(const_cast&lt;uint8_t*&gt;(data)) { <a class="code" href="classMemoryMap_1_1Buffer.html#57cd832b7e5c35d793b0e1fd4aba2d73">set_read_only</a>(); }
<a name="l00218"></a><a class="code" href="classMemoryMap_1_1ExternBuffer.html#dc1fe3252ca4da975a7157a34221946c">00218</a>         <a class="code" href="classMemoryMap_1_1ExternBuffer.html#0a34e57b9cb724d300b42548047235c2">ExternBuffer</a>(uint8_t *data, size_t size)
<a name="l00219"></a>00219             : <a class="code" href="classMemoryMap_1_1Buffer.html">Buffer</a>(size), <a class="code" href="classMemoryMap_1_1ExternBuffer.html#ea7350d127d27f6db3e7af005192df80">p_data</a>(data) {}
<a name="l00220"></a><a class="code" href="classMemoryMap_1_1ExternBuffer.html#ea7350d127d27f6db3e7af005192df80">00220</a>         <span class="keyword">mutable</span> uint8_t *<a class="code" href="classMemoryMap_1_1ExternBuffer.html#ea7350d127d27f6db3e7af005192df80">p_data</a>;
<a name="l00221"></a>00221     };
<a name="l00222"></a>00222 
<a name="l00224"></a><a class="code" href="classMemoryMap_1_1ByteBuffer.html">00224</a>     <span class="keyword">class </span><a class="code" href="classMemoryMap_1_1ByteBuffer.html">ByteBuffer</a>: <span class="keyword">public</span> <a class="code" href="classMemoryMap_1_1ExternBuffer.html">ExternBuffer</a> {
<a name="l00225"></a>00225     <span class="keyword">public</span>:
<a name="l00226"></a><a class="code" href="classMemoryMap_1_1ByteBuffer.html#2985452d74fdd05bb6e553ba36d722c4">00226</a>         <span class="keyword">virtual</span> <a class="code" href="classMemoryMap_1_1ByteBuffer.html#2985452d74fdd05bb6e553ba36d722c4">~ByteBuffer</a>() { <span class="keyword">delete</span>[] <a class="code" href="classMemoryMap_1_1ExternBuffer.html#ea7350d127d27f6db3e7af005192df80">p_data</a>; }
<a name="l00227"></a>00227 
<a name="l00231"></a>00231         <span class="keyword">static</span> BufferPtr <a class="code" href="classMemoryMap_1_1ByteBuffer.html#6d1d7907c7890e3abb9c6ccd8222f7f7">create</a>(<span class="keywordtype">void</span> *data, size_t <a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">size</a>);
<a name="l00232"></a>00232 
<a name="l00235"></a>00235         <span class="keyword">static</span> BufferPtr <a class="code" href="classMemoryMap_1_1ByteBuffer.html#62eea3258ecf31382563115772c1a7cb">create_from_file</a>(<span class="keyword">const</span> std::string &amp;filename, size_t start_offset=0);
<a name="l00236"></a>00236 
<a name="l00237"></a>00237     <span class="keyword">protected</span>:
<a name="l00238"></a><a class="code" href="classMemoryMap_1_1ByteBuffer.html#958f05fe9b72c16819c06b517efb14c6">00238</a>         <a class="code" href="classMemoryMap_1_1ByteBuffer.html#958f05fe9b72c16819c06b517efb14c6">ByteBuffer</a>(uint8_t *data, size_t <a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">size</a>): <a class="code" href="classMemoryMap_1_1ExternBuffer.html">ExternBuffer</a>(data, size) {}
<a name="l00239"></a>00239     };
<a name="l00240"></a>00240 
<a name="l00242"></a><a class="code" href="classMemoryMap_1_1MmapBuffer.html">00242</a>     <span class="keyword">class </span><a class="code" href="classMemoryMap_1_1MmapBuffer.html">MmapBuffer</a>: <span class="keyword">public</span> <a class="code" href="classMemoryMap_1_1ExternBuffer.html">ExternBuffer</a> {
<a name="l00243"></a>00243     <span class="keyword">public</span>:
<a name="l00244"></a>00244         <span class="keyword">virtual</span> <a class="code" href="classMemoryMap_1_1MmapBuffer.html#02dbc98752e2f78ce854984f02bf03d7">~MmapBuffer</a>();
<a name="l00245"></a>00245 
<a name="l00249"></a>00249         <span class="keyword">static</span> BufferPtr <a class="code" href="classMemoryMap_1_1MmapBuffer.html#2a0f94482da5d312e7ad5abd60c04fd4">create</a>(size_t length, <span class="keywordtype">int</span> prot, <span class="keywordtype">int</span> flags, <span class="keywordtype">int</span> fd, off_t offset);
<a name="l00250"></a>00250 
<a name="l00255"></a>00255         <span class="keyword">static</span> BufferPtr <a class="code" href="classMemoryMap_1_1MmapBuffer.html#2a0f94482da5d312e7ad5abd60c04fd4">create</a>(<span class="keyword">const</span> std::string &amp;filename, <span class="keywordtype">int</span> oflags, <span class="keywordtype">int</span> mprot, <span class="keywordtype">int</span> mflags);
<a name="l00256"></a>00256 
<a name="l00258"></a>00258         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1MmapBuffer.html#07aae3f678f2da6df8a25ab2225e2e37">resize</a>(size_t n) <span class="comment">/*overrides*/</span>;
<a name="l00259"></a>00259 
<a name="l00260"></a>00260     <span class="keyword">protected</span>:
<a name="l00261"></a><a class="code" href="classMemoryMap_1_1MmapBuffer.html#0a59d7115ae775436e197551cd466790">00261</a>         <a class="code" href="classMemoryMap_1_1MmapBuffer.html#0a59d7115ae775436e197551cd466790">MmapBuffer</a>(uint8_t *data, size_t <a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">size</a>, <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap_1_1Buffer.html#aee0541d65b3ac397603cb792c46cd41">read_only</a>): <a class="code" href="classMemoryMap_1_1ExternBuffer.html">ExternBuffer</a>(data, size) { <a class="code" href="classMemoryMap_1_1Buffer.html#57cd832b7e5c35d793b0e1fd4aba2d73">set_read_only</a>(read_only); }
<a name="l00262"></a>00262     };
<a name="l00263"></a>00263 
<a name="l00266"></a><a class="code" href="classMemoryMap_1_1AnonymousBuffer.html">00266</a>     <span class="keyword">class </span><a class="code" href="classMemoryMap_1_1AnonymousBuffer.html">AnonymousBuffer</a>: <span class="keyword">public</span> <a class="code" href="classMemoryMap_1_1ExternBuffer.html">ExternBuffer</a> {
<a name="l00267"></a>00267     <span class="keyword">public</span>:
<a name="l00268"></a><a class="code" href="classMemoryMap_1_1AnonymousBuffer.html#08c2241bc7426486dbddfd453841f3a3">00268</a>         <span class="keyword">virtual</span> <a class="code" href="classMemoryMap_1_1AnonymousBuffer.html#08c2241bc7426486dbddfd453841f3a3">~AnonymousBuffer</a>() { <span class="keyword">delete</span>[] <a class="code" href="classMemoryMap_1_1ExternBuffer.html#ea7350d127d27f6db3e7af005192df80">p_data</a>; }
<a name="l00269"></a>00269 
<a name="l00272"></a>00272         <span class="keyword">static</span> BufferPtr <a class="code" href="classMemoryMap_1_1AnonymousBuffer.html#c505a126ddae1c6be6630c47b69b8fad">create</a>(size_t <a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">size</a>);
<a name="l00273"></a>00273 
<a name="l00274"></a>00274         <span class="keyword">virtual</span> BufferPtr <a class="code" href="classMemoryMap_1_1AnonymousBuffer.html#3db3e923b5e8c35a3ec707ac57b15c0f">clone</a>() const <span class="comment">/*overrides*/</span>;
<a name="l00275"></a>00275         virtual const <span class="keywordtype">void</span> *<a class="code" href="classMemoryMap_1_1AnonymousBuffer.html#29d26025f8e9ab98b92d5a73119f2052">get_data_ptr</a>() const <span class="comment">/*overrides*/</span>;
<a name="l00276"></a>00276         virtual size_t <a class="code" href="classMemoryMap_1_1AnonymousBuffer.html#660a9598ff695a9fed6a0cfb0d658d15">read</a>(<span class="keywordtype">void</span>*, size_t offset, size_t nbytes) const <span class="comment">/*overrides*/</span>;
<a name="l00277"></a>00277         virtual size_t <a class="code" href="classMemoryMap_1_1AnonymousBuffer.html#d3b80367f305442147ec24883468228b">write</a>(const <span class="keywordtype">void</span>*, size_t offset, size_t nbytes) <span class="comment">/*overrides*/</span>;
<a name="l00278"></a>00278         virtual <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap_1_1AnonymousBuffer.html#c13c2737f298a3db16b728eccdc98a8f">is_zero</a>() const <span class="comment">/*overrides*/</span>;
<a name="l00279"></a>00279 
<a name="l00280"></a>00280     protected:
<a name="l00281"></a><a class="code" href="classMemoryMap_1_1AnonymousBuffer.html#3e2d4707b68c42c93463e01c7bb90c3f">00281</a>         <a class="code" href="classMemoryMap_1_1AnonymousBuffer.html">AnonymousBuffer</a>(size_t <a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">size</a>): <a class="code" href="classMemoryMap_1_1ExternBuffer.html">ExternBuffer</a>((uint8_t*)NULL, <a class="code" href="classMemoryMap_1_1Buffer.html#ad2a6677d08147210a5a564bec12e469">size</a>) {}
<a name="l00282"></a>00282     };
<a name="l00283"></a>00283 
<a name="l00284"></a>00284     <span class="comment">/**************************************************************************************************************************</span>
<a name="l00285"></a>00285 <span class="comment">     *                                  Segments</span>
<a name="l00286"></a>00286 <span class="comment">     **************************************************************************************************************************/</span>
<a name="l00287"></a>00287 <span class="keyword">public</span>:
<a name="l00288"></a>00288 
<a name="l00297"></a><a class="code" href="classMemoryMap_1_1Segment.html">00297</a>     <span class="keyword">class </span><a class="code" href="classMemoryMap_1_1Segment.html">Segment</a> {
<a name="l00298"></a>00298     <span class="keyword">public</span>:
<a name="l00299"></a><a class="code" href="classMemoryMap_1_1Segment.html#acb00c58f39ee7c8e9023ffd60be97d3">00299</a>         <a class="code" href="classMemoryMap_1_1Segment.html#acb00c58f39ee7c8e9023ffd60be97d3">Segment</a>(): <a class="code" href="classMemoryMap_1_1Segment.html#15b8f3a031569e7b211d523440cc37db">buffer_offset</a>(0), <a class="code" href="classMemoryMap_1_1Segment.html#6f506c7c94c3da42f63b6d76f6dc9d04">mapperms</a>(0), <a class="code" href="classMemoryMap_1_1Segment.html#3964884200e84d89db82173b108295d8">copy_on_write</a>(false) {}
<a name="l00300"></a>00300 
<a name="l00303"></a><a class="code" href="classMemoryMap_1_1Segment.html#306bdac01a315a098b4e3c1e486fd08e">00303</a>         <a class="code" href="classMemoryMap_1_1Segment.html#acb00c58f39ee7c8e9023ffd60be97d3">Segment</a>(<span class="keyword">const</span> BufferPtr &amp;<a class="code" href="classMemoryMap_1_1Segment.html#9d843571f6d39b8df747521040cf5cc8">buffer</a>, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> offset, <span class="keywordtype">unsigned</span> perms, std::string <a class="code" href="classMemoryMap_1_1Segment.html#37b720fef8223f5783a006ebca2ad28b">name</a>=<span class="stringliteral">""</span>)
<a name="l00304"></a>00304             : buffer(buffer), <a class="code" href="classMemoryMap_1_1Segment.html#15b8f3a031569e7b211d523440cc37db">buffer_offset</a>(offset), <a class="code" href="classMemoryMap_1_1Segment.html#6f506c7c94c3da42f63b6d76f6dc9d04">mapperms</a>(perms), <a class="code" href="classMemoryMap_1_1Segment.html#37b720fef8223f5783a006ebca2ad28b">name</a>(<a class="code" href="classMemoryMap_1_1Segment.html#37b720fef8223f5783a006ebca2ad28b">name</a>), <a class="code" href="classMemoryMap_1_1Segment.html#3964884200e84d89db82173b108295d8">copy_on_write</a>(false) {}
<a name="l00305"></a>00305 
<a name="l00312"></a><a class="code" href="classMemoryMap_1_1Segment.html#963e58c88d801b7f64b5d1e46e248d2e">00312</a>         BufferPtr <a class="code" href="classMemoryMap_1_1Segment.html#963e58c88d801b7f64b5d1e46e248d2e">get_buffer</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemoryMap_1_1Segment.html#9d843571f6d39b8df747521040cf5cc8">buffer</a>; }
<a name="l00313"></a><a class="code" href="classMemoryMap_1_1Segment.html#5219fe809aa7d794152e266022633c8a">00313</a>         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Segment.html#5219fe809aa7d794152e266022633c8a">set_buffer</a>(<span class="keyword">const</span> BufferPtr &amp;b) { <a class="code" href="classMemoryMap_1_1Segment.html#9d843571f6d39b8df747521040cf5cc8">buffer</a> = b; }
<a name="l00325"></a>00325         <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap_1_1Segment.html#338f5a2c19f1d78b16a36f8a4ba7575c">check</a>(<span class="keyword">const</span> <a class="code" href="classRange.html">Extent</a> &amp;range, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> *first_bad_va=NULL) <span class="keyword">const</span>;
<a name="l00326"></a>00326 
<a name="l00331"></a><a class="code" href="classMemoryMap_1_1Segment.html#7e05789bb2cb05c0e86cf0978d7169d8">00331</a>         <span class="keywordtype">unsigned</span> <a class="code" href="classMemoryMap_1_1Segment.html#7e05789bb2cb05c0e86cf0978d7169d8">get_mapperms</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemoryMap_1_1Segment.html#6f506c7c94c3da42f63b6d76f6dc9d04">mapperms</a>; }
<a name="l00332"></a><a class="code" href="classMemoryMap_1_1Segment.html#45235c750005ebb01fb7af325634fee3">00332</a>         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Segment.html#45235c750005ebb01fb7af325634fee3">set_mapperms</a>(<span class="keywordtype">unsigned</span> p) { <a class="code" href="classMemoryMap_1_1Segment.html#6f506c7c94c3da42f63b6d76f6dc9d04">mapperms</a> = p; }
<a name="l00347"></a><a class="code" href="classMemoryMap_1_1Segment.html#fdf495b932b4759f0b468d9d6307702e">00347</a>         <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="classMemoryMap_1_1Segment.html#fdf495b932b4759f0b468d9d6307702e">get_buffer_offset</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemoryMap_1_1Segment.html#15b8f3a031569e7b211d523440cc37db">buffer_offset</a>; }
<a name="l00348"></a>00348         <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="classMemoryMap_1_1Segment.html#fdf495b932b4759f0b468d9d6307702e">get_buffer_offset</a>(<span class="keyword">const</span> <a class="code" href="classRange.html">Extent</a> &amp;my_range, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> va) <span class="keyword">const</span>;
<a name="l00349"></a>00349         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Segment.html#5165be7ee7780f71f8ed8101ffa498f7">set_buffer_offset</a>(<a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> n);
<a name="l00356"></a><a class="code" href="classMemoryMap_1_1Segment.html#6c8120affc62d403b97c3d83b2bae319">00356</a>         <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap_1_1Segment.html#6c8120affc62d403b97c3d83b2bae319">is_cow</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemoryMap_1_1Segment.html#3964884200e84d89db82173b108295d8">copy_on_write</a>; }
<a name="l00357"></a><a class="code" href="classMemoryMap_1_1Segment.html#2d298e6d76136906feab0d170e69b64a">00357</a>         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Segment.html#2d298e6d76136906feab0d170e69b64a">set_cow</a>(<span class="keywordtype">bool</span> b=<span class="keyword">true</span>) { <a class="code" href="classMemoryMap_1_1Segment.html#3964884200e84d89db82173b108295d8">copy_on_write</a> = b; }
<a name="l00358"></a><a class="code" href="classMemoryMap_1_1Segment.html#e8853f4f0618066fabdaf870380858c3">00358</a>         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Segment.html#e8853f4f0618066fabdaf870380858c3">clear_cow</a>() { <a class="code" href="classMemoryMap_1_1Segment.html#2d298e6d76136906feab0d170e69b64a">set_cow</a>(<span class="keyword">false</span>); }
<a name="l00363"></a>00363         <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap_1_1Segment.html#1ac44d5f51707b266d2406215f58f297">operator==</a>(<span class="keyword">const</span> <a class="code" href="classMemoryMap_1_1Segment.html">Segment</a> &amp;other) <span class="keyword">const</span>;
<a name="l00364"></a>00364 
<a name="l00367"></a><a class="code" href="classMemoryMap_1_1Segment.html#905aa7038b44d88baa052809723e7957">00367</a>         <span class="keyword">const</span> std::string &amp;<a class="code" href="classMemoryMap_1_1Segment.html#905aa7038b44d88baa052809723e7957">get_name</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemoryMap_1_1Segment.html#37b720fef8223f5783a006ebca2ad28b">name</a>; }
<a name="l00368"></a><a class="code" href="classMemoryMap_1_1Segment.html#3913f497fefa27c6a8c5a80a91cb31fa">00368</a>         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Segment.html#3913f497fefa27c6a8c5a80a91cb31fa">set_name</a>(<span class="keyword">const</span> std::string &amp;s) { <a class="code" href="classMemoryMap_1_1Segment.html#37b720fef8223f5783a006ebca2ad28b">name</a> = s; }
<a name="l00371"></a>00371         <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classMemoryMap_1_1Segment.html#97fb572166ebc64f99f0d912047c9f17">operator&lt;&lt;</a>(std::ostream&amp;, <span class="keyword">const</span> <a class="code" href="classMemoryMap_1_1Segment.html">Segment</a>&amp;);
<a name="l00372"></a>00372 
<a name="l00373"></a>00373     <span class="keyword">private</span>:
<a name="l00374"></a>00374         <span class="comment">// Stuff for manipulating segment debug names</span>
<a name="l00375"></a><a class="code" href="classMemoryMap_1_1Segment.html#8e39171d21fb0ee27df7c548592556f7">00375</a>         <span class="keyword">typedef</span> std::map&lt;std::string, std::set&lt;std::string&gt; &gt; <a class="code" href="classMemoryMap_1_1Segment.html#8e39171d21fb0ee27df7c548592556f7">NamePairings</a>;
<a name="l00376"></a>00376         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Segment.html#a0cf0bdfa69f72455c31821d5eab8d57">merge_names</a>(<span class="keyword">const</span> <a class="code" href="classMemoryMap_1_1Segment.html">Segment</a> &amp;other);
<a name="l00377"></a>00377         std::string <a class="code" href="classMemoryMap_1_1Segment.html#b24762d3b5d5bdd39e2f9013c6aab8f7">get_name_pairings</a>(<a class="code" href="classMemoryMap_1_1Segment.html#8e39171d21fb0ee27df7c548592556f7">NamePairings</a>*) <span class="keyword">const</span>;
<a name="l00378"></a>00378         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Segment.html#3913f497fefa27c6a8c5a80a91cb31fa">set_name</a>(<span class="keyword">const</span> <a class="code" href="classMemoryMap_1_1Segment.html#8e39171d21fb0ee27df7c548592556f7">NamePairings</a>&amp;, <span class="keyword">const</span> std::string &amp;s1, <span class="keyword">const</span> std::string &amp;s2);
<a name="l00379"></a>00379 
<a name="l00380"></a>00380         <span class="comment">// The following methods are part of the RangeMap interface.  See documentation in RangeMap::RangeMapVoid.</span>
<a name="l00381"></a><a class="code" href="classMemoryMap_1_1Segment.html#596da4a2acbeff4dee5b19d70ecde182">00381</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classRangeMap.html">RangeMap</a>&lt;<a class="code" href="Cxx__Grammar_8h.html#d8e49820aaa106bb8a2dc17d9ad38d87">Extent</a>, <a class="code" href="classMemoryMap_1_1Segment.html#acb00c58f39ee7c8e9023ffd60be97d3">Segment</a>&gt;;
<a name="l00382"></a>00382         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Segment.html#33bb1f09d04791c0d3305c3efe9a2b8c">removing</a>(<span class="keyword">const</span> <a class="code" href="Cxx__Grammar_8h.html#d8e49820aaa106bb8a2dc17d9ad38d87">Extent</a> &amp;range);
<a name="l00383"></a>00383         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Segment.html#986a4604708aeee65adf9a15875ec486">truncate</a>(<span class="keyword">const</span> <a class="code" href="Cxx__Grammar_8h.html#d8e49820aaa106bb8a2dc17d9ad38d87">Extent</a> &amp;range, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> new_end);
<a name="l00384"></a>00384         <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap_1_1Segment.html#63c3d9f2352ad4035e85441f3cbdbfe6">merge</a>(<span class="keyword">const</span> <a class="code" href="Cxx__Grammar_8h.html#d8e49820aaa106bb8a2dc17d9ad38d87">Extent</a> &amp;range, <span class="keyword">const</span> <a class="code" href="Cxx__Grammar_8h.html#d8e49820aaa106bb8a2dc17d9ad38d87">Extent</a> &amp;other_range, <span class="keyword">const</span> <a class="code" href="classMemoryMap_1_1Segment.html#acb00c58f39ee7c8e9023ffd60be97d3">Segment</a> &amp;other_segment);
<a name="l00385"></a>00385         <a class="code" href="classMemoryMap_1_1Segment.html#acb00c58f39ee7c8e9023ffd60be97d3">Segment</a> <a class="code" href="classMemoryMap_1_1Segment.html#ec152af1b923f0366c138428ff434465">split</a>(<span class="keyword">const</span> <a class="code" href="Cxx__Grammar_8h.html#d8e49820aaa106bb8a2dc17d9ad38d87">Extent</a> &amp;range, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> new_end);
<a name="l00386"></a>00386         <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Segment.html#c347ad0fdab4da97b2ac1973a66ec687">print</a>(std::ostream&amp;) <span class="keyword">const</span>;
<a name="l00387"></a>00387 
<a name="l00388"></a>00388     <span class="keyword">private</span>:
<a name="l00389"></a><a class="code" href="classMemoryMap_1_1Segment.html#9d843571f6d39b8df747521040cf5cc8">00389</a>         BufferPtr <a class="code" href="classMemoryMap_1_1Segment.html#9d843571f6d39b8df747521040cf5cc8">buffer</a>;               
<a name="l00390"></a><a class="code" href="classMemoryMap_1_1Segment.html#15b8f3a031569e7b211d523440cc37db">00390</a>         <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="classMemoryMap_1_1Segment.html#15b8f3a031569e7b211d523440cc37db">buffer_offset</a>;      
<a name="l00391"></a><a class="code" href="classMemoryMap_1_1Segment.html#6f506c7c94c3da42f63b6d76f6dc9d04">00391</a>         <span class="keywordtype">unsigned</span> <a class="code" href="classMemoryMap_1_1Segment.html#6f506c7c94c3da42f63b6d76f6dc9d04">mapperms</a>;              
<a name="l00392"></a><a class="code" href="classMemoryMap_1_1Segment.html#37b720fef8223f5783a006ebca2ad28b">00392</a>         std::string <a class="code" href="classMemoryMap_1_1Segment.html#37b720fef8223f5783a006ebca2ad28b">name</a>;               
<a name="l00393"></a><a class="code" href="classMemoryMap_1_1Segment.html#3964884200e84d89db82173b108295d8">00393</a>         <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap_1_1Segment.html#3964884200e84d89db82173b108295d8">copy_on_write</a>;             
<a name="l00394"></a>00394     };
<a name="l00395"></a>00395 
<a name="l00396"></a>00396     <span class="comment">/**************************************************************************************************************************</span>
<a name="l00397"></a>00397 <span class="comment">     *                                  RangeMap-related things</span>
<a name="l00398"></a>00398 <span class="comment">     **************************************************************************************************************************/</span>
<a name="l00399"></a>00399 <span class="keyword">public</span>:
<a name="l00400"></a><a class="code" href="classMemoryMap.html#3f808792b2ee48f78aa3ca3458802ff7">00400</a>     <span class="keyword">typedef</span> <a class="code" href="classRangeMap.html">RangeMap&lt;Extent, Segment&gt;</a> <a class="code" href="classRangeMap.html">Segments</a>;
<a name="l00401"></a><a class="code" href="classMemoryMap.html#8255b6a315bc53637c79b969e5cae4b5">00401</a>     <span class="keyword">typedef</span> <a class="code" href="classRangeMap.html#ff5cb1527b5c0906f1696aecab58c8d2">Segments::iterator</a> <a class="code" href="classMemoryMap.html#8255b6a315bc53637c79b969e5cae4b5">iterator</a>;
<a name="l00402"></a><a class="code" href="classMemoryMap.html#253e4f90f6e05db9b23c6977242eb8b9">00402</a>     <span class="keyword">typedef</span> <a class="code" href="classRangeMap.html#b5c65ae6400776a38fe42e05b7b411cd">Segments::const_iterator</a> <a class="code" href="classMemoryMap.html#253e4f90f6e05db9b23c6977242eb8b9">const_iterator</a>;
<a name="l00403"></a><a class="code" href="classMemoryMap.html#cff2f77b09bed0611cb58fcf662e8abf">00403</a>     <span class="keyword">typedef</span> <a class="code" href="classRangeMap.html#8074a1b4f0b2bba0cf371d996a1e5dd6">Segments::reverse_iterator</a> <a class="code" href="classMemoryMap.html#cff2f77b09bed0611cb58fcf662e8abf">reverse_iterator</a>;
<a name="l00404"></a><a class="code" href="classMemoryMap.html#5a1d87cde99299cecaa96d6b5da619f1">00404</a>     <span class="keyword">typedef</span> <a class="code" href="classRangeMap.html#39b1f3d923e2f3da32c75b2b63329331">Segments::const_reverse_iterator</a> <a class="code" href="classMemoryMap.html#5a1d87cde99299cecaa96d6b5da619f1">const_reverse_iterator</a>;
<a name="l00405"></a>00405 
<a name="l00406"></a>00406     <span class="comment">/**************************************************************************************************************************</span>
<a name="l00407"></a>00407 <span class="comment">     *                                  Visitors</span>
<a name="l00408"></a>00408 <span class="comment">     **************************************************************************************************************************/</span>
<a name="l00409"></a>00409 <span class="keyword">public</span>:
<a name="l00411"></a><a class="code" href="classMemoryMap_1_1Visitor.html">00411</a>     <span class="keyword">class </span><a class="code" href="classMemoryMap_1_1Visitor.html">Visitor</a> {
<a name="l00412"></a>00412     <span class="keyword">public</span>:
<a name="l00413"></a><a class="code" href="classMemoryMap_1_1Visitor.html#b524e2cc0fdfd9290b83c3a404a9de40">00413</a>         <span class="keyword">virtual</span> <a class="code" href="classMemoryMap_1_1Visitor.html#b524e2cc0fdfd9290b83c3a404a9de40">~Visitor</a>() {}
<a name="l00414"></a>00414         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap_1_1Visitor.html#c80c6cc7ce7766eb73b608a8529dc1cf">operator()</a>(<span class="keyword">const</span> <a class="code" href="classMemoryMap.html">MemoryMap</a>*, <span class="keyword">const</span> <a class="code" href="classRange.html">Extent</a>&amp;, <span class="keyword">const</span> <a class="code" href="classMemoryMap_1_1Segment.html">Segment</a>&amp;) = 0;
<a name="l00415"></a>00415     };
<a name="l00416"></a>00416 
<a name="l00417"></a>00417     <span class="comment">/**************************************************************************************************************************</span>
<a name="l00418"></a>00418 <span class="comment">     *                                  Exceptions</span>
<a name="l00419"></a>00419 <span class="comment">     **************************************************************************************************************************/</span>
<a name="l00420"></a>00420 <span class="keyword">public</span>:
<a name="l00422"></a><a class="code" href="classMemoryMap_1_1Exception.html">00422</a>     <span class="keyword">class </span><a class="code" href="classMemoryMap_1_1Exception.html">Exception</a> {
<a name="l00423"></a>00423     <span class="keyword">public</span>:
<a name="l00424"></a><a class="code" href="classMemoryMap_1_1Exception.html#f9ddc635465db2881d4b0258ea440376">00424</a>         <a class="code" href="classMemoryMap_1_1Exception.html#f9ddc635465db2881d4b0258ea440376">Exception</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="classMemoryMap_1_1Exception.html#7c75bec86b187db519a953a10b81fc26">mesg</a>, <span class="keyword">const</span> <a class="code" href="classMemoryMap.html">MemoryMap</a> *<a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>): mesg(mesg), <a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>(<a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>) {}
<a name="l00425"></a><a class="code" href="classMemoryMap_1_1Exception.html#5166906dd2e8509c96660d4e753d6a85">00425</a>         <span class="keyword">virtual</span> <a class="code" href="classMemoryMap_1_1Exception.html#5166906dd2e8509c96660d4e753d6a85">~Exception</a>() {}
<a name="l00426"></a>00426         <span class="keyword">virtual</span> std::string <a class="code" href="classMemoryMap_1_1Exception.html#525431334851d986aeab5a47acd66257">leader</a>(std::string dflt=<span class="stringliteral">"memory map problem"</span>) <span class="keyword">const</span>;   
<a name="l00427"></a>00427         <span class="keyword">virtual</span> std::string <a class="code" href="classMemoryMap_1_1Exception.html#8365340e685cfd69326f44fa10445090">details</a>(<span class="keywordtype">bool</span>) <span class="keyword">const</span>; 
<a name="l00428"></a>00428         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classMemoryMap_1_1Exception.html#56a5078f3a9bfc48258ca9ac0143c28a">print</a>(std::ostream&amp;, <span class="keywordtype">bool</span> verbose=<span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l00429"></a>00429         <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classMemoryMap_1_1Exception.html#fa2c39d494f86611c169d20c9bf96557">operator&lt;&lt;</a>(std::ostream&amp;, <span class="keyword">const</span> <a class="code" href="classMemoryMap_1_1Exception.html">Exception</a>&amp;);
<a name="l00430"></a>00430     <span class="keyword">public</span>:
<a name="l00431"></a><a class="code" href="classMemoryMap_1_1Exception.html#7c75bec86b187db519a953a10b81fc26">00431</a>         std::string <a class="code" href="classMemoryMap_1_1Exception.html#7c75bec86b187db519a953a10b81fc26">mesg</a>;               
<a name="l00432"></a><a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">00432</a>         <span class="keyword">const</span> <a class="code" href="classMemoryMap.html">MemoryMap</a> *<a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>;           
<a name="l00433"></a>00433     };
<a name="l00434"></a>00434 
<a name="l00439"></a><a class="code" href="structMemoryMap_1_1Inconsistent.html">00439</a>     <span class="keyword">struct </span><a class="code" href="structMemoryMap_1_1Inconsistent.html">Inconsistent</a> : <span class="keyword">public</span> <a class="code" href="classMemoryMap_1_1Exception.html">Exception</a> {
<a name="l00440"></a><a class="code" href="structMemoryMap_1_1Inconsistent.html#31668c84f9dfcd15d80d7dc8dd66d176">00440</a>         <a class="code" href="structMemoryMap_1_1Inconsistent.html#31668c84f9dfcd15d80d7dc8dd66d176">Inconsistent</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="classMemoryMap_1_1Exception.html#7c75bec86b187db519a953a10b81fc26">mesg</a>, <span class="keyword">const</span> <a class="code" href="classMemoryMap.html">MemoryMap</a> *<a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>,
<a name="l00441"></a>00441                      <span class="keyword">const</span> <a class="code" href="classRange.html">Extent</a> &amp;<a class="code" href="structMemoryMap_1_1Inconsistent.html#ca18785131fddeb7522e98e5cb3b01f8">new_range</a>, <span class="keyword">const</span> <a class="code" href="classMemoryMap_1_1Segment.html">Segment</a> &amp;<a class="code" href="structMemoryMap_1_1Inconsistent.html#a9c2115923b05131ee8465e658b1ff76">new_segment</a>,
<a name="l00442"></a>00442                      <span class="keyword">const</span> <a class="code" href="classRange.html">Extent</a> &amp;<a class="code" href="structMemoryMap_1_1Inconsistent.html#3cbc81050702d9a7d652a58b9bfadfd8">old_range</a>, <span class="keyword">const</span> <a class="code" href="classMemoryMap_1_1Segment.html">Segment</a> &amp;<a class="code" href="structMemoryMap_1_1Inconsistent.html#3d2c1ecd461718dbe5f661cc98dabc0e">old_segment</a>)
<a name="l00443"></a>00443             : <a class="code" href="classMemoryMap_1_1Exception.html">Exception</a>(mesg, <a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>),
<a name="l00444"></a>00444               <a class="code" href="structMemoryMap_1_1Inconsistent.html#ca18785131fddeb7522e98e5cb3b01f8">new_range</a>(<a class="code" href="structMemoryMap_1_1Inconsistent.html#ca18785131fddeb7522e98e5cb3b01f8">new_range</a>), <a class="code" href="structMemoryMap_1_1Inconsistent.html#3cbc81050702d9a7d652a58b9bfadfd8">old_range</a>(<a class="code" href="structMemoryMap_1_1Inconsistent.html#3cbc81050702d9a7d652a58b9bfadfd8">old_range</a>),
<a name="l00445"></a>00445               <a class="code" href="structMemoryMap_1_1Inconsistent.html#a9c2115923b05131ee8465e658b1ff76">new_segment</a>(<a class="code" href="structMemoryMap_1_1Inconsistent.html#a9c2115923b05131ee8465e658b1ff76">new_segment</a>), <a class="code" href="structMemoryMap_1_1Inconsistent.html#3d2c1ecd461718dbe5f661cc98dabc0e">old_segment</a>(<a class="code" href="structMemoryMap_1_1Inconsistent.html#3d2c1ecd461718dbe5f661cc98dabc0e">old_segment</a>) {}
<a name="l00446"></a>00446         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="structMemoryMap_1_1Inconsistent.html#e8a010b498f5077abe90e9da93e1477d">print</a>(std::ostream&amp;, <span class="keywordtype">bool</span> verbose=<span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l00447"></a>00447         <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="structMemoryMap_1_1Inconsistent.html#bff4f9096c17786a1776815d97a5f071">operator&lt;&lt;</a>(std::ostream&amp;, <span class="keyword">const</span> <a class="code" href="structMemoryMap_1_1Inconsistent.html">Inconsistent</a>&amp;);
<a name="l00448"></a><a class="code" href="structMemoryMap_1_1Inconsistent.html#3cbc81050702d9a7d652a58b9bfadfd8">00448</a>         <a class="code" href="classRange.html">Extent</a> <a class="code" href="structMemoryMap_1_1Inconsistent.html#ca18785131fddeb7522e98e5cb3b01f8">new_range</a>, <a class="code" href="structMemoryMap_1_1Inconsistent.html#3cbc81050702d9a7d652a58b9bfadfd8">old_range</a>;
<a name="l00449"></a><a class="code" href="structMemoryMap_1_1Inconsistent.html#3d2c1ecd461718dbe5f661cc98dabc0e">00449</a>         <a class="code" href="classMemoryMap_1_1Segment.html">Segment</a> <a class="code" href="structMemoryMap_1_1Inconsistent.html#a9c2115923b05131ee8465e658b1ff76">new_segment</a>, <a class="code" href="structMemoryMap_1_1Inconsistent.html#3d2c1ecd461718dbe5f661cc98dabc0e">old_segment</a>;
<a name="l00450"></a>00450     };
<a name="l00451"></a>00451 
<a name="l00453"></a><a class="code" href="structMemoryMap_1_1NotMapped.html">00453</a>     <span class="keyword">struct </span><a class="code" href="structMemoryMap_1_1NotMapped.html">NotMapped</a> : <span class="keyword">public</span> <a class="code" href="classMemoryMap_1_1Exception.html">Exception</a> {
<a name="l00454"></a><a class="code" href="structMemoryMap_1_1NotMapped.html#53edeeaffa34abe3dca79fdb97a12031">00454</a>         <a class="code" href="structMemoryMap_1_1NotMapped.html#53edeeaffa34abe3dca79fdb97a12031">NotMapped</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="classMemoryMap_1_1Exception.html#7c75bec86b187db519a953a10b81fc26">mesg</a>, <span class="keyword">const</span> <a class="code" href="classMemoryMap.html">MemoryMap</a> *<a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="structMemoryMap_1_1NotMapped.html#dcb31f5028adc68e20de10884dc4cfbb">va</a>)
<a name="l00455"></a>00455             : <a class="code" href="classMemoryMap_1_1Exception.html">Exception</a>(mesg, <a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>), va(va) {}
<a name="l00456"></a>00456         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="structMemoryMap_1_1NotMapped.html#9532daccbd0eb1623b0096b39fcdd72d">print</a>(std::ostream&amp;, <span class="keywordtype">bool</span> verbose=<span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l00457"></a>00457         <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="structMemoryMap_1_1NotMapped.html#043b63eae5cffc1f0b9b578a94430559">operator&lt;&lt;</a>(std::ostream&amp;, <span class="keyword">const</span> <a class="code" href="structMemoryMap_1_1NotMapped.html">NotMapped</a>&amp;);
<a name="l00458"></a><a class="code" href="structMemoryMap_1_1NotMapped.html#dcb31f5028adc68e20de10884dc4cfbb">00458</a>         <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="structMemoryMap_1_1NotMapped.html#dcb31f5028adc68e20de10884dc4cfbb">va</a>;
<a name="l00459"></a>00459     };
<a name="l00460"></a>00460 
<a name="l00462"></a><a class="code" href="structMemoryMap_1_1NoFreeSpace.html">00462</a>     <span class="keyword">struct </span><a class="code" href="structMemoryMap_1_1NoFreeSpace.html">NoFreeSpace</a> : <span class="keyword">public</span> <a class="code" href="classMemoryMap_1_1Exception.html">Exception</a> {
<a name="l00463"></a><a class="code" href="structMemoryMap_1_1NoFreeSpace.html#89f7eb682b24016edab853af5470e358">00463</a>         <a class="code" href="structMemoryMap_1_1NoFreeSpace.html#89f7eb682b24016edab853af5470e358">NoFreeSpace</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="classMemoryMap_1_1Exception.html#7c75bec86b187db519a953a10b81fc26">mesg</a>, <span class="keyword">const</span> <a class="code" href="classMemoryMap.html">MemoryMap</a> *<a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>, size_t <a class="code" href="structMemoryMap_1_1NoFreeSpace.html#3860d524c1165cc602ed9ade6a706727">size</a>)
<a name="l00464"></a>00464             : <a class="code" href="classMemoryMap_1_1Exception.html">Exception</a>(mesg, <a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>), size(size) {}
<a name="l00465"></a>00465         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="structMemoryMap_1_1NoFreeSpace.html#f0bc76c5981d908c6f5b05d16d1ecd83">print</a>(std::ostream&amp;, <span class="keywordtype">bool</span> verbose=<span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l00466"></a>00466         <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="structMemoryMap_1_1NoFreeSpace.html#0d907e28e2932d98080da64f447169ad">operator&lt;&lt;</a>(std::ostream&amp;, <span class="keyword">const</span> <a class="code" href="structMemoryMap_1_1NoFreeSpace.html">NoFreeSpace</a>&amp;);
<a name="l00467"></a><a class="code" href="structMemoryMap_1_1NoFreeSpace.html#3860d524c1165cc602ed9ade6a706727">00467</a>         size_t <a class="code" href="structMemoryMap_1_1NoFreeSpace.html#3860d524c1165cc602ed9ade6a706727">size</a>;
<a name="l00468"></a>00468     };
<a name="l00469"></a>00469 
<a name="l00471"></a><a class="code" href="structMemoryMap_1_1SyntaxError.html">00471</a>     <span class="keyword">struct </span><a class="code" href="structMemoryMap_1_1SyntaxError.html">SyntaxError</a>: <span class="keyword">public</span> <a class="code" href="classMemoryMap_1_1Exception.html">Exception</a> {
<a name="l00472"></a><a class="code" href="structMemoryMap_1_1SyntaxError.html#3e8a93b2b6797eb732f344c8bb25cc32">00472</a>         <a class="code" href="structMemoryMap_1_1SyntaxError.html#3e8a93b2b6797eb732f344c8bb25cc32">SyntaxError</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="classMemoryMap_1_1Exception.html#7c75bec86b187db519a953a10b81fc26">mesg</a>, <span class="keyword">const</span> <a class="code" href="classMemoryMap.html">MemoryMap</a> *<a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>, <span class="keyword">const</span> std::string &amp;<a class="code" href="structMemoryMap_1_1SyntaxError.html#8c04baaee77f973741e92e78b000d3ae">filename</a>, <span class="keywordtype">unsigned</span> <a class="code" href="structMemoryMap_1_1SyntaxError.html#96406b7b01640c93e115e58a09eb487f">linenum</a>, <span class="keywordtype">int</span> <a class="code" href="structMemoryMap_1_1SyntaxError.html#15db3352c5183ba1a047a3f3ab20e3f1">colnum</a>=-1)
<a name="l00473"></a>00473             : <a class="code" href="classMemoryMap_1_1Exception.html">Exception</a>(mesg, <a class="code" href="classMemoryMap_1_1Exception.html#252fde78a303961e19dad6b883562dcf">map</a>), filename(filename), linenum(linenum), <a class="code" href="structMemoryMap_1_1SyntaxError.html#15db3352c5183ba1a047a3f3ab20e3f1">colnum</a>(<a class="code" href="structMemoryMap_1_1SyntaxError.html#15db3352c5183ba1a047a3f3ab20e3f1">colnum</a>) {}
<a name="l00474"></a>00474         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="structMemoryMap_1_1SyntaxError.html#319d8a0bb73522a1593c9cbbd998836b">print</a>(std::ostream&amp;, <span class="keywordtype">bool</span> verbose=<span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l00475"></a>00475         <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="structMemoryMap_1_1SyntaxError.html#ccf46ab6835342b1e0a2b2a814fea466">operator&lt;&lt;</a>(std::ostream&amp;, <span class="keyword">const</span> <a class="code" href="structMemoryMap_1_1SyntaxError.html">SyntaxError</a>&amp;);
<a name="l00476"></a><a class="code" href="structMemoryMap_1_1SyntaxError.html#8c04baaee77f973741e92e78b000d3ae">00476</a>         std::string <a class="code" href="structMemoryMap_1_1SyntaxError.html#8c04baaee77f973741e92e78b000d3ae">filename</a>;                   
<a name="l00477"></a><a class="code" href="structMemoryMap_1_1SyntaxError.html#96406b7b01640c93e115e58a09eb487f">00477</a>         <span class="keywordtype">unsigned</span> <a class="code" href="structMemoryMap_1_1SyntaxError.html#96406b7b01640c93e115e58a09eb487f">linenum</a>;                       
<a name="l00478"></a><a class="code" href="structMemoryMap_1_1SyntaxError.html#15db3352c5183ba1a047a3f3ab20e3f1">00478</a>         <span class="keywordtype">int</span> <a class="code" href="structMemoryMap_1_1SyntaxError.html#15db3352c5183ba1a047a3f3ab20e3f1">colnum</a>;                             
<a name="l00479"></a>00479     };
<a name="l00480"></a>00480 
<a name="l00481"></a>00481     <span class="comment">/**************************************************************************************************************************</span>
<a name="l00482"></a>00482 <span class="comment">     *                                  Public Methods for MemoryMap</span>
<a name="l00483"></a>00483 <span class="comment">     **************************************************************************************************************************/</span>
<a name="l00484"></a>00484 
<a name="l00486"></a><a class="code" href="classMemoryMap.html#400f3136e664fd3e3f5c2730ce3a2a5f">00486</a>     <a class="code" href="classMemoryMap.html#400f3136e664fd3e3f5c2730ce3a2a5f">MemoryMap</a>() {}
<a name="l00487"></a>00487 
<a name="l00492"></a><a class="code" href="classMemoryMap.html#2a72c1c6bd2724ca82c60bca7f7c9aaf">00492</a>     <a class="code" href="classMemoryMap.html#400f3136e664fd3e3f5c2730ce3a2a5f">MemoryMap</a>(<span class="keyword">const</span> <a class="code" href="classMemoryMap.html">MemoryMap</a> &amp;other, <a class="code" href="classMemoryMap.html#e687c5c475ed18d7d747d672e54e3aef">CopyLevel</a> copy_level=<a class="code" href="classMemoryMap.html#e687c5c475ed18d7d747d672e54e3aef7e46f89c5a5b88fda5e18612c7ed100b">COPY_SHALLOW</a>) { <a class="code" href="classMemoryMap.html#9f97bb1d4be7848e91e91bdd3d47c8ba">init</a>(other, copy_level); }
<a name="l00493"></a>00493 
<a name="l00497"></a>00497     <a class="code" href="classMemoryMap.html">MemoryMap</a>&amp; <a class="code" href="classMemoryMap.html#9f97bb1d4be7848e91e91bdd3d47c8ba">init</a>(<span class="keyword">const</span> <a class="code" href="classMemoryMap.html">MemoryMap</a> &amp;source, <a class="code" href="classMemoryMap.html#e687c5c475ed18d7d747d672e54e3aef">CopyLevel</a> copy_level=<a class="code" href="classMemoryMap.html#e687c5c475ed18d7d747d672e54e3aef7e46f89c5a5b88fda5e18612c7ed100b">COPY_SHALLOW</a>);
<a name="l00498"></a>00498 
<a name="l00500"></a>00500     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#de35471bd24f46fc5099d8a6a97b0ddf">clear</a>();
<a name="l00501"></a>00501 
<a name="l00510"></a>00510     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#d8b51b8c73d8bb8d5922cbf1360800ef">insert</a>(<span class="keyword">const</span> <a class="code" href="classRange.html">Extent</a> &amp;range, <span class="keyword">const</span> Segment &amp;segment, <span class="keywordtype">bool</span> erase_prior=<span class="keyword">true</span>);
<a name="l00511"></a>00511 
<a name="l00517"></a><a class="code" href="classMemoryMap.html#372b80eef545c53a95b322c53e526e64">00517</a>     <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap.html#372b80eef545c53a95b322c53e526e64">exists</a>(<a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> va, <span class="keywordtype">unsigned</span> required_perms=0)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemoryMap.html#372b80eef545c53a95b322c53e526e64">exists</a>(<a class="code" href="Cxx__Grammar_8h.html#d8e49820aaa106bb8a2dc17d9ad38d87">Extent</a>(va), required_perms); }
<a name="l00518"></a>00518     <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap.html#372b80eef545c53a95b322c53e526e64">exists</a>(<a class="code" href="classRange.html">Extent</a> range, <span class="keywordtype">unsigned</span> required_perms=0) <span class="keyword">const</span>;
<a name="l00527"></a>00527     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#497cf700231115f91e5627a11c166653">erase</a>(<span class="keyword">const</span> <a class="code" href="classRange.html">Extent</a> &amp;range);
<a name="l00528"></a>00528 
<a name="l00531"></a>00531     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#497cf700231115f91e5627a11c166653">erase</a>(<span class="keyword">const</span> Segment&amp;);
<a name="l00532"></a>00532 
<a name="l00536"></a>00536     std::pair&lt;Extent, Segment&gt; <a class="code" href="classMemoryMap.html#236831c642b73ee2c26459340c7ee761">at</a>(<a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> va) <span class="keyword">const</span>;
<a name="l00537"></a>00537 
<a name="l00541"></a>00541     <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="classMemoryMap.html#99e2f3d47ce36283671962e5f6ee93f5">find_free</a>(<a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> start_va, size_t size, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> mem_alignment=1) <span class="keyword">const</span>;
<a name="l00542"></a>00542 
<a name="l00546"></a>00546     <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="classMemoryMap.html#c4c396cc00022426897339bbc310eddd">find_last_free</a>(<a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> max=(<a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a>)(-1)) <span class="keyword">const</span>;
<a name="l00547"></a>00547 
<a name="l00549"></a>00549     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#8eabb07a63d701ffb17649284a35eb2a">traverse</a>(Visitor &amp;visitor) <span class="keyword">const</span>;
<a name="l00550"></a>00550 
<a name="l00554"></a>00554     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#8e5d8580f91704ebfb5b28bcbd71c01a">prune</a>(Visitor &amp;predicate);
<a name="l00555"></a>00555 
<a name="l00558"></a>00558     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#8e5d8580f91704ebfb5b28bcbd71c01a">prune</a>(<span class="keywordtype">unsigned</span> required, <span class="keywordtype">unsigned</span> prohibited=<a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd57544ce6196a00fe1b9a997bbd34b607f12">MM_PROT_NONE</a>);
<a name="l00559"></a>00559 
<a name="l00561"></a><a class="code" href="classMemoryMap.html#48c9dda77ad1d1335a441aaeef55d98e">00561</a>     <span class="keyword">const</span> Segments &amp;<a class="code" href="classMemoryMap.html#48c9dda77ad1d1335a441aaeef55d98e">segments</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMemoryMap.html#6a03e9d53a131a9aa6ae0786c3c0f55a">p_segments</a>; }
<a name="l00562"></a>00562 
<a name="l00576"></a>00576     size_t <a class="code" href="classMemoryMap.html#709a3ab13e92a0cbd4a12184e35d4941">read</a>(<span class="keywordtype">void</span> *dst_buf, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> start_va, size_t desired, <span class="keywordtype">unsigned</span> req_perms=<a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575721c493a6d527e717ffd911d2f18060f">MM_PROT_READ</a>) <span class="keyword">const</span>;
<a name="l00577"></a>00577     size_t <a class="code" href="classMemoryMap.html#f8683ff784134fad5c016d51e03143e0">read1</a>(<span class="keywordtype">void</span> *dst_buf, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> start_va, size_t desired, <span class="keywordtype">unsigned</span> req_perms=<a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575721c493a6d527e717ffd911d2f18060f">MM_PROT_READ</a>) <span class="keyword">const</span>;
<a name="l00584"></a>00584     <a class="code" href="Cxx__Grammar_8h.html#4f57773a5fc8d0d005f7553cd47cbc4e">SgUnsignedCharList</a> <a class="code" href="classMemoryMap.html#709a3ab13e92a0cbd4a12184e35d4941">read</a>(<a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> start_va, size_t desired, <span class="keywordtype">unsigned</span> req_perms=<a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575721c493a6d527e717ffd911d2f18060f">MM_PROT_READ</a>) <span class="keyword">const</span>;
<a name="l00585"></a>00585 
<a name="l00597"></a>00597     size_t <a class="code" href="classMemoryMap.html#4c05a968b891c4848ce6dc802fb1ada2">write</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *src_buf, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> start_va, size_t desired, <span class="keywordtype">unsigned</span> req_perms=<a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575ba37f8b609f7bd6bc6a454be584726df">MM_PROT_WRITE</a>);
<a name="l00598"></a>00598     size_t <a class="code" href="classMemoryMap.html#2a0e72bbdaf6a582f9b484ff9696bf76">write1</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *src_buf, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> start_va, size_t desired, <span class="keywordtype">unsigned</span> req_perms=<a class="code" href="classMemoryMap.html#33a974d3db4ffc22f5ccc7311e4fd575ba37f8b609f7bd6bc6a454be584726df">MM_PROT_WRITE</a>);
<a name="l00602"></a>00602     <a class="code" href="classExtentMap.html">ExtentMap</a> <a class="code" href="classMemoryMap.html#8ffed06efb5ddeb4c08c3fcafcc08c20">va_extents</a>() <span class="keyword">const</span>;
<a name="l00603"></a>00603 
<a name="l00607"></a>00607     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#9b60b4c96694154fbf1bb2d7c089a7a6">mprotect</a>(<a class="code" href="classRange.html">Extent</a> range, <span class="keywordtype">unsigned</span> perms, <span class="keywordtype">bool</span> relax=<span class="keyword">false</span>);
<a name="l00608"></a>00608 
<a name="l00612"></a>00612     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#c45b1135441de2185b0b72c858066911">dump</a>(FILE*, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="SgUnaryOp_8docs.html#c6cf1576467b95ef29f025f8e47eea437afa939f8bd773f5f7e326990b07580c">prefix</a>=<span class="stringliteral">""</span>) <span class="keyword">const</span>;
<a name="l00613"></a>00613     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#c45b1135441de2185b0b72c858066911">dump</a>(std::ostream&amp;, std::string <a class="code" href="SgUnaryOp_8docs.html#c6cf1576467b95ef29f025f8e47eea437afa939f8bd773f5f7e326990b07580c">prefix</a>=<span class="stringliteral">""</span>) <span class="keyword">const</span>;
<a name="l00614"></a><a class="code" href="classMemoryMap.html#f284bb08259e651c94309bcbf3994a6a">00614</a>     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#f284bb08259e651c94309bcbf3994a6a">print</a>(std::ostream &amp;o, std::string <a class="code" href="SgUnaryOp_8docs.html#c6cf1576467b95ef29f025f8e47eea437afa939f8bd773f5f7e326990b07580c">prefix</a>=<span class="stringliteral">""</span>)<span class="keyword"> const </span>{ <a class="code" href="classMemoryMap.html#c45b1135441de2185b0b72c858066911">dump</a>(o, <a class="code" href="SgUnaryOp_8docs.html#c6cf1576467b95ef29f025f8e47eea437afa939f8bd773f5f7e326990b07580c">prefix</a>); }
<a name="l00620"></a>00620     <span class="keywordtype">void</span> <a class="code" href="classMemoryMap.html#c45b1135441de2185b0b72c858066911">dump</a>(<span class="keyword">const</span> std::string &amp;basename) <span class="keyword">const</span>;
<a name="l00621"></a>00621 
<a name="l00644"></a>00644     <span class="keywordtype">bool</span> <a class="code" href="classMemoryMap.html#e99220f42b2ae4bce99bd56910efcab1">load</a>(<span class="keyword">const</span> std::string &amp;basename);
<a name="l00645"></a>00645 
<a name="l00646"></a>00646     <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classMemoryMap.html#62d57db8b553f396fa5786845552edbb">operator&lt;&lt;</a>(std::ostream&amp;, <span class="keyword">const</span> <a class="code" href="classMemoryMap.html">MemoryMap</a>&amp;);
<a name="l00647"></a>00647 
<a name="l00648"></a>00648     <span class="comment">/**************************************************************************************************************************</span>
<a name="l00649"></a>00649 <span class="comment">     *                                  Data members</span>
<a name="l00650"></a>00650 <span class="comment">     **************************************************************************************************************************/</span>
<a name="l00651"></a>00651 <span class="keyword">protected</span>:
<a name="l00652"></a><a class="code" href="classMemoryMap.html#6a03e9d53a131a9aa6ae0786c3c0f55a">00652</a>     Segments <a class="code" href="classMemoryMap.html#6a03e9d53a131a9aa6ae0786c3c0f55a">p_segments</a>;
<a name="l00653"></a>00653 };
<a name="l00654"></a>00654 
<a name="l00655"></a>00655 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on 20 Jan 2013 for ROSE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
