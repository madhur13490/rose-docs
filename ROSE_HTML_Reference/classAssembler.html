<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ROSE: Assembler Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>Assembler Class Reference</h1><!-- doxytag: class="Assembler" --><code>#include &lt;<a class="el" href="Assembler_8h-source.html">Assembler.h</a>&gt;</code>
<p>
Inheritance diagram for Assembler:<p><center><img src="classAssembler__inherit__graph.png" border="0" usemap="#Assembler__inherit__map" alt="Inheritance graph"></center>
<map name="Assembler__inherit__map">
<area href="classAssemblerX86.html" shape="rect" coords="5,84,120,111" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classAssembler-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Virtual base class for instruction assemblers. 
<p>
The <a class="el" href="classAssembler.html">Assembler</a> class is a virtual class providing all non-architecture-specific functionality for the assembly of instructions; architecture-specific components are in subclasses such as AssemblerArm, AssemblerPowerpc, and <a class="el" href="classAssemblerX86.html">AssemblerX86</a>.<p>
This example shows how to test the disassembler against the assembler by disassembling and then reassembling all instructions. Generate debugging output for instructions that cannot be reassembled into an encoding identical to the original bytes:<p>
<div class="fragment"><pre class="fragment">  <span class="comment">// Disassemble the interpretation (normally happens automatically)</span>
  <a class="code" href="classSgAsmInterpretation.html">SgAsmInterpretation</a> *interp = ....;
  <a class="code" href="classDisassembler.html">Disassembler</a> *d = <a class="code" href="classDisassembler.html#80b0e8a12a159d85c9ad2813ed1559c4">Disassembler::lookup</a>(interp);
  d-&gt;<a class="code" href="classDisassembler.html#64aafb327cb2d3eaf1acd0ea0dfe7e97">disassemble</a>(interp);

  <span class="comment">// Create an assembler that can handle instructions in this interpretation.</span>
  <a class="code" href="classAssembler.html">Assembler</a> *<span class="keyword">asm</span> = <a class="code" href="classAssembler.html#d82acabc3ad0d5108b855721efcef07e">Assembler::create</a>(interp);

  <span class="comment">// Cause the assembler to choose encodings that are identical to the</span>
  <span class="comment">// bytes originally disassebled.  The assembler still goes through all the</span>
  <span class="comment">// work of assembling, but then checks the result against the original</span>
  <span class="comment">// bytes.</span>
  <span class="keyword">asm</span>-&gt;set_encoding_type(<a class="code" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa84995a0ba9a0c21c0afefd91ea1f7d57">Assembler::ET_MATCHES</a>);

  <span class="comment">// Attempt to reassemble each instruction. If the assembly fails to produce</span>
  <span class="comment">// the original bytes then an exception is thrown and we try again for</span>
  <span class="comment">// debugging side effects.</span>
  std::vector&lt;SgNode*&gt; insns = <a class="code" href="namespaceSageInterface.html#1123219ebb32a1140a1c10e73b97ca22">NodeQuery::querySubTree</a>(interp, <a class="code" href="Cxx__Grammar_8h.html#adcb00b11de1167a498bced81d3e346498da636f7690dc49c75d6cfe79d474a5">V_SgAsmInstruction</a>);
  <span class="keywordflow">for</span> (size_t i=0; i&lt;insns.size(); i++) {
      <a class="code" href="classSgAsmInstruction.html">SgAsmInstruction</a> *insn = <a class="code" href="Cxx__Grammar_8h.html#8ea3968ea14e6511567d5e5b654315f1">isSgAsmInstruction</a>(insns[i]);
      <span class="keywordflow">try</span> {
          <span class="keyword">asm</span>-&gt;assembleOne(insn);
      } <span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="classAssembler_1_1Exception.html">Assembler::Exception</a> &amp;e) {
          fprintf(stderr, <span class="stringliteral">"assembly failed at 0x%08llx: %s\n"</span>,
                  insn-&gt;get_address(), e.<a class="code" href="classAssembler_1_1Exception.html#b73a98c59bd98855b72eaf03eeec93b1">mesg</a>.c_str());
          <span class="keyword">asm</span>-&gt;set_debug(stderr);
          <span class="keywordflow">try</span> {
              <span class="keyword">asm</span>-&gt;assembleOne(insn);
          } <span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code" href="classAssembler_1_1Exception.html">Assembler::Exception</a>&amp;) {
          }
          <span class="keyword">asm</span>-&gt;set_debug(NULL);
      }
  }
</pre></div> 
<p>

<p>
Definition at line <a class="el" href="Assembler_8h-source.html#l00049">49</a> of file <a class="el" href="Assembler_8h-source.html">Assembler.h</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa215a2a915278a4b1b062e9c317d88ee5">ET_SHORTEST</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the shortest possible encoding.  <a href="#532d7a25f37bc8823986a5a92723c1aa215a2a915278a4b1b062e9c317d88ee5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aac8b4ebec4f79d1a2e4888f377b508d60">ET_LONGEST</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the longest encoding.  <a href="#532d7a25f37bc8823986a5a92723c1aac8b4ebec4f79d1a2e4888f377b508d60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa84995a0ba9a0c21c0afefd91ea1f7d57">ET_MATCHES</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns an encoding that matches the <a class="el" href="classSgAsmInstruction.html#a55ee275595f603c3f1fa72a050236c1">SgAsmInstruction::p_raw_bytes</a>.  <a href="#532d7a25f37bc8823986a5a92723c1aa84995a0ba9a0c21c0afefd91ea1f7d57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa">EncodingType</a> { <br>
&nbsp;&nbsp;<a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa215a2a915278a4b1b062e9c317d88ee5">ET_SHORTEST</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aac8b4ebec4f79d1a2e4888f377b508d60">ET_LONGEST</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa84995a0ba9a0c21c0afefd91ea1f7d57">ET_MATCHES</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assemblers can often assemble a single instruction various ways.  <a href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#acc0a5f2bb3fff928b95934fa386b133">Assembler</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#3dc674cb7df935bbd85f426b31af5b2c">~Assembler</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="Cxx__Grammar_8h.html#4f57773a5fc8d0d005f7553cd47cbc4e">SgUnsignedCharList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#9aa87657eac670055c53b0612321a4f9">assembleOne</a> (<a class="el" href="classSgAsmInstruction.html">SgAsmInstruction</a> *insn)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the lowest level architecture-independent assembly function and is implemented in the architecture-specific subclasses (there may be other architecture-dependent assembly methods also).  <a href="#9aa87657eac670055c53b0612321a4f9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="Cxx__Grammar_8h.html#4f57773a5fc8d0d005f7553cd47cbc4e">SgUnsignedCharList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#d978c88f06e32d695066cb2b55fb7f73">assembleBlock</a> (<a class="el" href="classSgAsmBlock.html">SgAsmBlock</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assembles a single basic block of instructions, packing them together and adjusting their virtual addresses.  <a href="#d978c88f06e32d695066cb2b55fb7f73"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="Cxx__Grammar_8h.html#4f57773a5fc8d0d005f7553cd47cbc4e">SgUnsignedCharList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#c3940b79a5afa0bc48803f31ec16c6b3">assembleBlock</a> (const std::vector&lt; <a class="el" href="classSgAsmInstruction.html">SgAsmInstruction</a> * &gt; &amp;insns, <a class="el" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> starting_rva)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assembles a single basic block of instructions like the version that takes an <a class="el" href="classSgAsmBlock.html">SgAsmBlock</a> pointer.  <a href="#c3940b79a5afa0bc48803f31ec16c6b3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="Cxx__Grammar_8h.html#4f57773a5fc8d0d005f7553cd47cbc4e">SgUnsignedCharList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#8f258260cbd0e8500bb624a271943954">assembleProgram</a> (const std::string &amp;source)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assembles a program from an assembly listing.  <a href="#8f258260cbd0e8500bb624a271943954"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#e8d1a947200524044cc8cd62e763c03a">set_encoding_type</a> (<a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa">EncodingType</a> et)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Controls how the <a class="el" href="classAssembler.html#9aa87657eac670055c53b0612321a4f9">assembleOne()</a> method determines which encoding to return.  <a href="#e8d1a947200524044cc8cd62e763c03a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa">EncodingType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#699575a72e42fea1f899bb627d445cd3">get_encoding_type</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the encoding type employed by this assembler.  <a href="#699575a72e42fea1f899bb627d445cd3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#7f057f9328fdf10b35eaa6c425d90f38">set_debug</a> (FILE *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends assembler diagnostics to the specified output stream.  <a href="#7f057f9328fdf10b35eaa6c425d90f38"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">FILE *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#48cda615c3e82f3965b724da78d2022e">get_debug</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the file currently used for debugging; null implies no debugging.  <a href="#48cda615c3e82f3965b724da78d2022e"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classAssembler.html">Assembler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#d82acabc3ad0d5108b855721efcef07e">create</a> (<a class="el" href="classSgAsmInterpretation.html">SgAsmInterpretation</a> *interp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates an assembler that is appropriate for assembling instructions in the specified interpretation.  <a href="#d82acabc3ad0d5108b855721efcef07e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classAssembler.html">Assembler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#34d23e6d3131c0b4abcb8afd1dc00ffc">create</a> (<a class="el" href="classSgAsmGenericHeader.html">SgAsmGenericHeader</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates an assembler that is appropriate for assembling instructions in the specified header.  <a href="#34d23e6d3131c0b4abcb8afd1dc00ffc"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">FILE *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#635a34113f342c5e360389f83ebc6f99">p_debug</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set to non-null to get debugging info.  <a href="#635a34113f342c5e360389f83ebc6f99"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa">EncodingType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler.html#5b7f40369f047f20a231399fc70db5bc">p_encoding_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Which encoding should be returned by assembleOne.  <a href="#5b7f40369f047f20a231399fc70db5bc"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssembler_1_1Exception.html">Exception</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Exception thrown by the assemblers.  <a href="classAssembler_1_1Exception.html#_details">More...</a><br></td></tr>
</table>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="532d7a25f37bc8823986a5a92723c1aa"></a><!-- doxytag: member="Assembler::EncodingType" ref="532d7a25f37bc8823986a5a92723c1aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa">Assembler::EncodingType</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Assemblers can often assemble a single instruction various ways. 
<p>
For instance, on x86 the immediate value -53 can be assembled into a single byte, or sign extended into 2, 4, or 8 bytes. These enumeration constants control how the <a class="el" href="classAssembler.html#9aa87657eac670055c53b0612321a4f9">assembleOne()</a> method determines which encoding to return. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="532d7a25f37bc8823986a5a92723c1aa215a2a915278a4b1b062e9c317d88ee5"></a><!-- doxytag: member="ET_SHORTEST" ref="532d7a25f37bc8823986a5a92723c1aa215a2a915278a4b1b062e9c317d88ee5" args="" -->ET_SHORTEST</em>&nbsp;</td><td>
Returns the shortest possible encoding. 
<p>
This is the default. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="532d7a25f37bc8823986a5a92723c1aac8b4ebec4f79d1a2e4888f377b508d60"></a><!-- doxytag: member="ET_LONGEST" ref="532d7a25f37bc8823986a5a92723c1aac8b4ebec4f79d1a2e4888f377b508d60" args="" -->ET_LONGEST</em>&nbsp;</td><td>
Returns the longest encoding. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="532d7a25f37bc8823986a5a92723c1aa84995a0ba9a0c21c0afefd91ea1f7d57"></a><!-- doxytag: member="ET_MATCHES" ref="532d7a25f37bc8823986a5a92723c1aa84995a0ba9a0c21c0afefd91ea1f7d57" args="" -->ET_MATCHES</em>&nbsp;</td><td>
Returns an encoding that matches the <a class="el" href="classSgAsmInstruction.html#a55ee275595f603c3f1fa72a050236c1">SgAsmInstruction::p_raw_bytes</a>. 
<p>
This is used mainly for testing that the assembler can produce the same encoding that was originally used by the disassembler when the instruction was created. </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="Assembler_8h-source.html#l00072">72</a> of file <a class="el" href="Assembler_8h-source.html">Assembler.h</a>.
</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="acc0a5f2bb3fff928b95934fa386b133"></a><!-- doxytag: member="Assembler::Assembler" ref="acc0a5f2bb3fff928b95934fa386b133" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Assembler::Assembler           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="Assembler_8h-source.html#l00081">81</a> of file <a class="el" href="Assembler_8h-source.html">Assembler.h</a>.
</div>
</div><p>
<a class="anchor" name="3dc674cb7df935bbd85f426b31af5b2c"></a><!-- doxytag: member="Assembler::~Assembler" ref="3dc674cb7df935bbd85f426b31af5b2c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual Assembler::~Assembler           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="Assembler_8h-source.html#l00085">85</a> of file <a class="el" href="Assembler_8h-source.html">Assembler.h</a>.
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d82acabc3ad0d5108b855721efcef07e"></a><!-- doxytag: member="Assembler::create" ref="d82acabc3ad0d5108b855721efcef07e" args="(SgAsmInterpretation *interp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classAssembler.html">Assembler</a>* Assembler::create           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSgAsmInterpretation.html">SgAsmInterpretation</a> *&nbsp;</td>
          <td class="paramname"> <em>interp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates an assembler that is appropriate for assembling instructions in the specified interpretation. 
<p>

</div>
</div><p>
<a class="anchor" name="34d23e6d3131c0b4abcb8afd1dc00ffc"></a><!-- doxytag: member="Assembler::create" ref="34d23e6d3131c0b4abcb8afd1dc00ffc" args="(SgAsmGenericHeader *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classAssembler.html">Assembler</a>* Assembler::create           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSgAsmGenericHeader.html">SgAsmGenericHeader</a> *&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates an assembler that is appropriate for assembling instructions in the specified header. 
<p>

</div>
</div><p>
<a class="anchor" name="9aa87657eac670055c53b0612321a4f9"></a><!-- doxytag: member="Assembler::assembleOne" ref="9aa87657eac670055c53b0612321a4f9" args="(SgAsmInstruction *insn)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="Cxx__Grammar_8h.html#4f57773a5fc8d0d005f7553cd47cbc4e">SgUnsignedCharList</a> Assembler::assembleOne           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSgAsmInstruction.html">SgAsmInstruction</a> *&nbsp;</td>
          <td class="paramname"> <em>insn</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is the lowest level architecture-independent assembly function and is implemented in the architecture-specific subclasses (there may be other architecture-dependent assembly methods also). 
<p>
It assembles one instruction and returns the encoding, throwing an exception if anything goes wrong. 
<p>
Implemented in <a class="el" href="classAssemblerX86.html#21738f8609dc526f22b71aac954b339e">AssemblerX86</a>.
</div>
</div><p>
<a class="anchor" name="d978c88f06e32d695066cb2b55fb7f73"></a><!-- doxytag: member="Assembler::assembleBlock" ref="d978c88f06e32d695066cb2b55fb7f73" args="(SgAsmBlock *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Cxx__Grammar_8h.html#4f57773a5fc8d0d005f7553cd47cbc4e">SgUnsignedCharList</a> Assembler::assembleBlock           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSgAsmBlock.html">SgAsmBlock</a> *&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Assembles a single basic block of instructions, packing them together and adjusting their virtual addresses. 
<p>
The virtual address of the first instruction of the block determines the starting address. An exception is thrown if any of the instructions cannot be assembled. 
</div>
</div><p>
<a class="anchor" name="c3940b79a5afa0bc48803f31ec16c6b3"></a><!-- doxytag: member="Assembler::assembleBlock" ref="c3940b79a5afa0bc48803f31ec16c6b3" args="(const std::vector&lt; SgAsmInstruction * &gt; &amp;insns, rose_addr_t starting_rva)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Cxx__Grammar_8h.html#4f57773a5fc8d0d005f7553cd47cbc4e">SgUnsignedCharList</a> Assembler::assembleBlock           </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classSgAsmInstruction.html">SgAsmInstruction</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>insns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a>&nbsp;</td>
          <td class="paramname"> <em>starting_rva</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Assembles a single basic block of instructions like the version that takes an <a class="el" href="classSgAsmBlock.html">SgAsmBlock</a> pointer. 
<p>
In this case, the instructions are stored in a vector instead. The will be treated like a single basic block: no control flow adjustments will be made. An exception is thrown if any of the instructions cannot be disassembled. 
</div>
</div><p>
<a class="anchor" name="8f258260cbd0e8500bb624a271943954"></a><!-- doxytag: member="Assembler::assembleProgram" ref="8f258260cbd0e8500bb624a271943954" args="(const std::string &amp;source)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="Cxx__Grammar_8h.html#4f57773a5fc8d0d005f7553cd47cbc4e">SgUnsignedCharList</a> Assembler::assembleProgram           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>source</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Assembles a program from an assembly listing. 
<p>
This method may call an external assembler to do its work. 
<p>
Implemented in <a class="el" href="classAssemblerX86.html#d19100313dc1721732b0d1d19e03d4e3">AssemblerX86</a>.
</div>
</div><p>
<a class="anchor" name="e8d1a947200524044cc8cd62e763c03a"></a><!-- doxytag: member="Assembler::set_encoding_type" ref="e8d1a947200524044cc8cd62e763c03a" args="(EncodingType et)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Assembler::set_encoding_type           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa">EncodingType</a>&nbsp;</td>
          <td class="paramname"> <em>et</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Controls how the <a class="el" href="classAssembler.html#9aa87657eac670055c53b0612321a4f9">assembleOne()</a> method determines which encoding to return. 
<p>

<p>
Definition at line <a class="el" href="Assembler_8h-source.html#l00122">122</a> of file <a class="el" href="Assembler_8h-source.html">Assembler.h</a>.
<p>
References <a class="el" href="Assembler_8h-source.html#l00146">p_encoding_type</a>.
</div>
</div><p>
<a class="anchor" name="699575a72e42fea1f899bb627d445cd3"></a><!-- doxytag: member="Assembler::get_encoding_type" ref="699575a72e42fea1f899bb627d445cd3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa">EncodingType</a> Assembler::get_encoding_type           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the encoding type employed by this assembler. 
<p>
See <a class="el" href="classAssembler.html#e8d1a947200524044cc8cd62e763c03a">set_encoding_type()</a>. 
<p>
Definition at line <a class="el" href="Assembler_8h-source.html#l00127">127</a> of file <a class="el" href="Assembler_8h-source.html">Assembler.h</a>.
<p>
References <a class="el" href="Assembler_8h-source.html#l00146">p_encoding_type</a>.
</div>
</div><p>
<a class="anchor" name="7f057f9328fdf10b35eaa6c425d90f38"></a><!-- doxytag: member="Assembler::set_debug" ref="7f057f9328fdf10b35eaa6c425d90f38" args="(FILE *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Assembler::set_debug           </td>
          <td>(</td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends assembler diagnostics to the specified output stream. 
<p>
Null (the default) turns off debugging. 
<p>
Definition at line <a class="el" href="Assembler_8h-source.html#l00132">132</a> of file <a class="el" href="Assembler_8h-source.html">Assembler.h</a>.
<p>
References <a class="el" href="Assembler_8h-source.html#l00145">p_debug</a>.
</div>
</div><p>
<a class="anchor" name="48cda615c3e82f3965b724da78d2022e"></a><!-- doxytag: member="Assembler::get_debug" ref="48cda615c3e82f3965b724da78d2022e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* Assembler::get_debug           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the file currently used for debugging; null implies no debugging. 
<p>

<p>
Definition at line <a class="el" href="Assembler_8h-source.html#l00137">137</a> of file <a class="el" href="Assembler_8h-source.html">Assembler.h</a>.
<p>
References <a class="el" href="Assembler_8h-source.html#l00145">p_debug</a>.
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="635a34113f342c5e360389f83ebc6f99"></a><!-- doxytag: member="Assembler::p_debug" ref="635a34113f342c5e360389f83ebc6f99" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* <a class="el" href="classAssembler.html#635a34113f342c5e360389f83ebc6f99">Assembler::p_debug</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set to non-null to get debugging info. 
<p>

<p>
Definition at line <a class="el" href="Assembler_8h-source.html#l00145">145</a> of file <a class="el" href="Assembler_8h-source.html">Assembler.h</a>.
<p>
Referenced by <a class="el" href="Assembler_8h-source.html#l00137">get_debug()</a>, and <a class="el" href="Assembler_8h-source.html#l00132">set_debug()</a>.
</div>
</div><p>
<a class="anchor" name="5b7f40369f047f20a231399fc70db5bc"></a><!-- doxytag: member="Assembler::p_encoding_type" ref="5b7f40369f047f20a231399fc70db5bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAssembler.html#532d7a25f37bc8823986a5a92723c1aa">EncodingType</a> <a class="el" href="classAssembler.html#5b7f40369f047f20a231399fc70db5bc">Assembler::p_encoding_type</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Which encoding should be returned by assembleOne. 
<p>

<p>
Definition at line <a class="el" href="Assembler_8h-source.html#l00146">146</a> of file <a class="el" href="Assembler_8h-source.html">Assembler.h</a>.
<p>
Referenced by <a class="el" href="Assembler_8h-source.html#l00127">get_encoding_type()</a>, and <a class="el" href="Assembler_8h-source.html#l00122">set_encoding_type()</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Assembler_8h-source.html">Assembler.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on 20 Jan 2013 for ROSE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
