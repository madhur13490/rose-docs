<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ROSE: BinaryLoaderElf.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>BinaryLoaderElf.h</h1><a href="BinaryLoaderElf_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef ROSE_BINARYLOADERELF_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define ROSE_BINARYLOADERELF_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include "<a class="code" href="BinaryLoader_8h.html">BinaryLoader.h</a>"</span>
<a name="l00005"></a>00005 
<a name="l00006"></a><a class="code" href="classBinaryLoaderElf.html">00006</a> <span class="keyword">class </span><a class="code" href="classBinaryLoaderElf.html">BinaryLoaderElf</a>: <span class="keyword">public</span> <a class="code" href="classBinaryLoader.html">BinaryLoader</a> {
<a name="l00007"></a>00007 <span class="keyword">public</span>:
<a name="l00008"></a><a class="code" href="classBinaryLoaderElf.html#55435596246469de501d17a14aa7df27">00008</a>     <a class="code" href="classBinaryLoaderElf.html#55435596246469de501d17a14aa7df27">BinaryLoaderElf</a>() {}
<a name="l00009"></a>00009 
<a name="l00010"></a><a class="code" href="classBinaryLoaderElf.html#1fbf0231213bcf1e228e07004350fd90">00010</a>     <a class="code" href="classBinaryLoaderElf.html#55435596246469de501d17a14aa7df27">BinaryLoaderElf</a>(<span class="keyword">const</span> <a class="code" href="classBinaryLoaderElf.html">BinaryLoaderElf</a> &amp;other)
<a name="l00011"></a>00011         : <a class="code" href="classBinaryLoader.html">BinaryLoader</a>(other)
<a name="l00012"></a>00012         {}
<a name="l00013"></a>00013 
<a name="l00014"></a><a class="code" href="classBinaryLoaderElf.html#c0202adeb0b28bd0932cf0ddd665b38b">00014</a>     <span class="keyword">virtual</span> <a class="code" href="classBinaryLoaderElf.html#c0202adeb0b28bd0932cf0ddd665b38b">~BinaryLoaderElf</a>() {}
<a name="l00015"></a>00015 
<a name="l00017"></a><a class="code" href="classBinaryLoaderElf.html#d31add0dcdf95340ce8a277d501f2ce8">00017</a>     <span class="keyword">virtual</span> <a class="code" href="classBinaryLoaderElf.html">BinaryLoaderElf</a> *<a class="code" href="classBinaryLoaderElf.html#d31add0dcdf95340ce8a277d501f2ce8">clone</a>()<span class="keyword"> const </span>{
<a name="l00018"></a>00018         <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classBinaryLoaderElf.html#55435596246469de501d17a14aa7df27">BinaryLoaderElf</a>(*<span class="keyword">this</span>);
<a name="l00019"></a>00019     }
<a name="l00020"></a>00020 
<a name="l00022"></a>00022     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBinaryLoaderElf.html#d0c81f3a63989bd1bd8f7f88480fd25c">can_load</a>(<a class="code" href="classSgAsmGenericHeader.html">SgAsmGenericHeader</a>*) <span class="keyword">const</span>;
<a name="l00023"></a>00023 
<a name="l00039"></a>00039     <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf.html#53e095b63f03492cbfa1333f5c8ffca3">add_lib_defaults</a>(<a class="code" href="classSgAsmGenericHeader.html">SgAsmGenericHeader</a> *header=NULL);
<a name="l00040"></a>00040 
<a name="l00042"></a>00042     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf.html#e123bf07cb446f4c91f51175eb706984">get_dynamic_vars</a>(<a class="code" href="classSgAsmGenericHeader.html">SgAsmGenericHeader</a>*, std::string &amp;rpath<span class="comment">/*out*/</span>, std::string &amp;runpath<span class="comment">/*out*/</span>);
<a name="l00043"></a>00043 
<a name="l00045"></a>00045     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf.html#4b0c7f196621b1157ceb4ec9a4bd252e">fixup</a>(<a class="code" href="classSgAsmInterpretation.html">SgAsmInterpretation</a> *interp);
<a name="l00046"></a>00046 
<a name="l00047"></a>00047     <span class="comment">/* FIXME: These should probably be in SgAsmElfSymver* classes instead. [RPM 2010-09-14] */</span>
<a name="l00049"></a>00049     <span class="keyword">enum</span> {
<a name="l00050"></a>00050         <a class="code" href="classBinaryLoaderElf.html#0558ae1c67a8092aa1bd4913e67ac86fd4bbb152ac4e4fa28df53b309047617f">VER_FLG_BASE</a>=0x1,
<a name="l00051"></a>00051         <a class="code" href="classBinaryLoaderElf.html#0558ae1c67a8092aa1bd4913e67ac86feda1b8c837cf07ff463f54103cc7d2db">VER_FLG_WEAK</a>=0x2,
<a name="l00052"></a>00052         <a class="code" href="classBinaryLoaderElf.html#0558ae1c67a8092aa1bd4913e67ac86febe950ae323360821426c1748e989fab">VERSYM_HIDDEN</a>=0x8000
<a name="l00053"></a>00053     };
<a name="l00054"></a>00054 
<a name="l00062"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html">00062</a>     <span class="keyword">class </span><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html">VersionedSymbol</a> {
<a name="l00063"></a>00063     <span class="keyword">private</span>:
<a name="l00064"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#ec133b862a560a3811b80c1f3d89ddf2">00064</a>         <a class="code" href="classSgAsmElfSymbol.html">SgAsmElfSymbol</a>* <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#ec133b862a560a3811b80c1f3d89ddf2">p_symbol</a>;
<a name="l00065"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#a2c6e8ed6198357b91c2b642469ce312">00065</a>         <a class="code" href="classSgAsmElfSymverEntry.html">SgAsmElfSymverEntry</a>* <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#a2c6e8ed6198357b91c2b642469ce312">p_version_entry</a>;
<a name="l00066"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#b605559ae9c209962dff44f5103c8c70">00066</a>         <a class="code" href="classSgAsmElfSymverDefinedEntry.html">SgAsmElfSymverDefinedEntry</a>* <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#b605559ae9c209962dff44f5103c8c70">p_version_def</a>;
<a name="l00067"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#15c21358955302ba08fd700b21284898">00067</a>         <a class="code" href="classSgAsmElfSymverNeededAux.html">SgAsmElfSymverNeededAux</a>* <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#15c21358955302ba08fd700b21284898">p_version_need</a>;
<a name="l00068"></a>00068     <span class="keyword">public</span>:
<a name="l00069"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#5539efa4f02b24cd0278908a273c4aae">00069</a>         <span class="keyword">explicit</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#5539efa4f02b24cd0278908a273c4aae">VersionedSymbol</a>(<a class="code" href="classSgAsmElfSymbol.html">SgAsmElfSymbol</a>* symbol)
<a name="l00070"></a>00070             : <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#ec133b862a560a3811b80c1f3d89ddf2">p_symbol</a>(symbol), <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#a2c6e8ed6198357b91c2b642469ce312">p_version_entry</a>(NULL), <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#b605559ae9c209962dff44f5103c8c70">p_version_def</a>(NULL), <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#15c21358955302ba08fd700b21284898">p_version_need</a>(NULL)
<a name="l00071"></a>00071             {}
<a name="l00072"></a>00072 
<a name="l00074"></a>00074         <span class="keywordtype">bool</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#7dcf7d8fd97c790027d546fe6b4395eb">is_local</a>() <span class="keyword">const</span>;
<a name="l00075"></a>00075 
<a name="l00077"></a>00077         <span class="keywordtype">bool</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#2520e90b2b7eb23fbf25a6cb47a2c1f5">is_hidden</a>() <span class="keyword">const</span>;
<a name="l00078"></a>00078 
<a name="l00080"></a>00080         <span class="keywordtype">bool</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#fd853749c72726cf7ddaea524720896a">is_reference</a>() <span class="keyword">const</span>;
<a name="l00081"></a>00081         
<a name="l00084"></a>00084         <span class="keywordtype">bool</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#4df5c5a2ba90577002ecdb25d1d068d6">is_base_definition</a>() <span class="keyword">const</span>;
<a name="l00085"></a>00085 
<a name="l00087"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#2fb3df8cd622eaf68c5293805eaa69e8">00087</a>         <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#2fb3df8cd622eaf68c5293805eaa69e8">set_symbol</a>(<a class="code" href="classSgAsmElfSymbol.html">SgAsmElfSymbol</a> *symbol) {
<a name="l00088"></a>00088             <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#ec133b862a560a3811b80c1f3d89ddf2">p_symbol</a> = symbol;
<a name="l00089"></a>00089         }
<a name="l00090"></a>00090         
<a name="l00092"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#36ec3110e38d101e8417ddce2a86e559">00092</a>         <a class="code" href="classSgAsmElfSymbol.html">SgAsmElfSymbol</a> *<a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#36ec3110e38d101e8417ddce2a86e559">get_symbol</a>()<span class="keyword"> const </span>{
<a name="l00093"></a>00093             <span class="keywordflow">return</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#ec133b862a560a3811b80c1f3d89ddf2">p_symbol</a>;
<a name="l00094"></a>00094         }
<a name="l00095"></a>00095 
<a name="l00097"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#ff22619c39933c83d599f3b834a1d8f6">00097</a>         <a class="code" href="classSgAsmElfSymbolSection.html">SgAsmElfSymbolSection</a> *<a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#ff22619c39933c83d599f3b834a1d8f6">get_section</a>()<span class="keyword"> const </span>{
<a name="l00098"></a>00098             <a class="code" href="classSgAsmElfSymbolSection.html">SgAsmElfSymbolSection</a> *retval = SageInterface::getEnclosingNode&lt;SgAsmElfSymbolSection&gt;(<a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#ec133b862a560a3811b80c1f3d89ddf2">p_symbol</a>);
<a name="l00099"></a>00099             ROSE_ASSERT(retval!=NULL);
<a name="l00100"></a>00100             <span class="keywordflow">return</span> retval;
<a name="l00101"></a>00101         }
<a name="l00102"></a>00102         
<a name="l00104"></a>00104         std::string <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#823ec669b1ab845099ea8b18e308ccd1">get_version</a>() <span class="keyword">const</span>;
<a name="l00105"></a>00105         
<a name="l00107"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#3fd87fa7efa67f2043fff46ab716423f">00107</a>         std::string <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#3fd87fa7efa67f2043fff46ab716423f">get_name</a>()<span class="keyword"> const </span>{
<a name="l00108"></a>00108             <span class="keywordflow">return</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#ec133b862a560a3811b80c1f3d89ddf2">p_symbol</a>-&gt;<a class="code" href="classSgAsmGenericSymbol.html#8cef0d96af06bb5e741df6a332c67e2c">get_name</a>()-&gt;<a class="code" href="classSgAsmGenericString.html#ba8bc51c8d891e4f8e8e87c45c62f7d5">get_string</a>();
<a name="l00109"></a>00109         }
<a name="l00110"></a>00110         
<a name="l00112"></a>00112         std::string <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#350029399445931718b20a014535d6da">get_versioned_name</a>() <span class="keyword">const</span>;
<a name="l00113"></a>00113         
<a name="l00115"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#d5a46f54fc6feeca2a48bec906c532f8">00115</a>         <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#d5a46f54fc6feeca2a48bec906c532f8">set_version_entry</a>(<a class="code" href="classSgAsmElfSymverEntry.html">SgAsmElfSymverEntry</a> *entry) {
<a name="l00116"></a>00116             <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#a2c6e8ed6198357b91c2b642469ce312">p_version_entry</a> = entry;
<a name="l00117"></a>00117         }
<a name="l00118"></a>00118 
<a name="l00120"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#9c26cc7f065bc1af87f8d6836543db11">00120</a>         <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#9c26cc7f065bc1af87f8d6836543db11">set_version_def</a>(<a class="code" href="classSgAsmElfSymverDefinedEntry.html">SgAsmElfSymverDefinedEntry</a>* def) {
<a name="l00121"></a>00121             ROSE_ASSERT(def-&gt;<a class="code" href="classSgAsmElfSymverDefinedEntry.html#6e30b4b0a6c25516d115858555f6f25b">get_flags</a>() == 0 || def-&gt;<a class="code" href="classSgAsmElfSymverDefinedEntry.html#6e30b4b0a6c25516d115858555f6f25b">get_flags</a>() == <a class="code" href="classBinaryLoaderElf.html#0558ae1c67a8092aa1bd4913e67ac86fd4bbb152ac4e4fa28df53b309047617f">VER_FLG_BASE</a>);
<a name="l00122"></a>00122             <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#b605559ae9c209962dff44f5103c8c70">p_version_def</a> = def;
<a name="l00123"></a>00123         }
<a name="l00124"></a>00124 
<a name="l00126"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#6dd9b7016ec74a36ccf9c20db6f8f82b">00126</a>         <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#6dd9b7016ec74a36ccf9c20db6f8f82b">set_version_need</a>(<a class="code" href="classSgAsmElfSymverNeededAux.html">SgAsmElfSymverNeededAux</a>* need) {
<a name="l00127"></a>00127             ROSE_ASSERT(need-&gt;<a class="code" href="classSgAsmElfSymverNeededAux.html#be709e6fb56091c159bcaa5593723c14">get_flags</a>() == 0 || need-&gt;<a class="code" href="classSgAsmElfSymverNeededAux.html#be709e6fb56091c159bcaa5593723c14">get_flags</a>() == <a class="code" href="classBinaryLoaderElf.html#0558ae1c67a8092aa1bd4913e67ac86feda1b8c837cf07ff463f54103cc7d2db">VER_FLG_WEAK</a>);
<a name="l00128"></a>00128             <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#15c21358955302ba08fd700b21284898">p_version_need</a> = need;
<a name="l00129"></a>00129         }
<a name="l00130"></a>00130 
<a name="l00132"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#3cc74d3aee249454bc1843c24c0ff00d">00132</a>         <a class="code" href="classSgAsmElfSymverNeededAux.html">SgAsmElfSymverNeededAux</a>* <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#3cc74d3aee249454bc1843c24c0ff00d">get_version_need</a>()<span class="keyword"> const </span>{
<a name="l00133"></a>00133             <span class="keywordflow">return</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#15c21358955302ba08fd700b21284898">p_version_need</a>;
<a name="l00134"></a>00134         }
<a name="l00135"></a>00135 
<a name="l00137"></a><a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#bb15befe52e57df10038b7631c421dec">00137</a>         <a class="code" href="classSgAsmElfSymverDefinedEntry.html">SgAsmElfSymverDefinedEntry</a>* <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#bb15befe52e57df10038b7631c421dec">get_version_def</a>()<span class="keyword"> const </span>{
<a name="l00138"></a>00138             <span class="keywordflow">return</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#b605559ae9c209962dff44f5103c8c70">p_version_def</a>;
<a name="l00139"></a>00139         }
<a name="l00140"></a>00140     };
<a name="l00141"></a>00141 
<a name="l00144"></a><a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html">00144</a>     <span class="keyword">struct </span><a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html">SymbolMapEntry</a> {
<a name="l00145"></a>00145     <span class="keyword">private</span>:
<a name="l00146"></a>00146         <span class="comment">/* Base version will be at the front if we have one; other entries are unsorted. */</span>
<a name="l00147"></a><a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#82c2c219b1880695a2d777323c69d77c">00147</a>         std::vector&lt;VersionedSymbol&gt; <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#82c2c219b1880695a2d777323c69d77c">p_versions</a>;
<a name="l00148"></a>00148     <span class="keyword">public</span>:
<a name="l00150"></a><a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#96124726d65a936ce8a8adb7780b812b">00150</a>         <span class="keyword">const</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html">VersionedSymbol</a> &amp;<a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#96124726d65a936ce8a8adb7780b812b">get_vsymbol</a>()<span class="keyword"> const </span>{
<a name="l00151"></a>00151             <span class="keywordflow">return</span> <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#25e29c0d6aaf5b015a224b1dc1c3bc87">get_base_version</a>();
<a name="l00152"></a>00152         }
<a name="l00153"></a>00153 
<a name="l00155"></a><a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#1af3724767e88da343f6a7041626743f">00155</a>         <a class="code" href="classSgAsmElfSymbol.html">SgAsmElfSymbol</a> *<a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#1af3724767e88da343f6a7041626743f">get_symbol</a>()<span class="keyword"> const </span>{
<a name="l00156"></a>00156             <span class="keywordflow">return</span> <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#96124726d65a936ce8a8adb7780b812b">get_vsymbol</a>().<a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#36ec3110e38d101e8417ddce2a86e559">get_symbol</a>();
<a name="l00157"></a>00157         }
<a name="l00158"></a>00158 
<a name="l00162"></a>00162         <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html">VersionedSymbol</a> <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#96124726d65a936ce8a8adb7780b812b">get_vsymbol</a>(<span class="keyword">const</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html">VersionedSymbol</a> &amp;version) <span class="keyword">const</span>;
<a name="l00163"></a>00163 
<a name="l00165"></a><a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#1f21614aab1b81b9e89b978f3cd2ec34">00165</a>         <a class="code" href="classSgAsmElfSymbolSection.html">SgAsmElfSymbolSection</a> *<a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#1f21614aab1b81b9e89b978f3cd2ec34">get_section</a>()<span class="keyword"> const </span>{
<a name="l00166"></a>00166             <span class="keywordflow">return</span> <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#96124726d65a936ce8a8adb7780b812b">get_vsymbol</a>().<a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html#ff22619c39933c83d599f3b834a1d8f6">get_section</a>();
<a name="l00167"></a>00167         }
<a name="l00168"></a>00168 
<a name="l00171"></a>00171         <span class="keywordtype">void</span> <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#1d31a60c46e1ba5fe631d494b9510634">addVersion</a>(<span class="keyword">const</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html">VersionedSymbol</a> &amp;vsymbol);
<a name="l00172"></a>00172 
<a name="l00174"></a>00174         <span class="keywordtype">void</span> <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#fab4d2728f7e16f14be6f877edae5708">merge</a>(<span class="keyword">const</span> <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html">SymbolMapEntry</a>&amp;);
<a name="l00175"></a>00175 
<a name="l00176"></a>00176     <span class="keyword">private</span>:
<a name="l00177"></a><a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#25e29c0d6aaf5b015a224b1dc1c3bc87">00177</a>         <span class="keyword">const</span> <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html">VersionedSymbol</a>&amp; <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#25e29c0d6aaf5b015a224b1dc1c3bc87">get_base_version</a>()<span class="keyword"> const </span>{
<a name="l00178"></a>00178             ROSE_ASSERT(!<a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#82c2c219b1880695a2d777323c69d77c">p_versions</a>.empty());
<a name="l00179"></a>00179             <span class="keywordflow">return</span> <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html#82c2c219b1880695a2d777323c69d77c">p_versions</a>.front();
<a name="l00180"></a>00180         }
<a name="l00181"></a>00181     };
<a name="l00182"></a>00182 
<a name="l00184"></a><a class="code" href="classBinaryLoaderElf_1_1SymbolMap.html">00184</a>     <span class="keyword">class </span><a class="code" href="classBinaryLoaderElf_1_1SymbolMap.html">SymbolMap</a>: <span class="keyword">public</span> std::map&lt;std::string<span class="comment">/*symbol name*/</span>, SymbolMapEntry&gt; {
<a name="l00185"></a>00185     <span class="keyword">public</span>:
<a name="l00187"></a>00187         <span class="keyword">const</span> <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html">SymbolMapEntry</a> *<a class="code" href="classBinaryLoaderElf_1_1SymbolMap.html#531f7518fbb7a3421780aba73f3226f2">lookup</a>(std::string name) <span class="keyword">const</span>;
<a name="l00188"></a>00188 
<a name="l00192"></a>00192         <span class="keyword">const</span> <a class="code" href="structBinaryLoaderElf_1_1SymbolMapEntry.html">SymbolMapEntry</a> *<a class="code" href="classBinaryLoaderElf_1_1SymbolMap.html#531f7518fbb7a3421780aba73f3226f2">lookup</a>(std::string name, std::string version) <span class="keyword">const</span>;
<a name="l00193"></a>00193     };
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html">00195</a>     <span class="keyword">class </span><a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html">SymverResolver</a> {
<a name="l00196"></a>00196     <span class="keyword">public</span>:
<a name="l00197"></a><a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#9f3d2decc13b6ef8926edd7bd7fee741">00197</a>         <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#9f3d2decc13b6ef8926edd7bd7fee741">SymverResolver</a>(<a class="code" href="classSgAsmGenericHeader.html">SgAsmGenericHeader</a> *header) { <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#f26f0e7d504081ddf4afc66e4c4f2310">ctor</a>(header); }
<a name="l00198"></a>00198 
<a name="l00201"></a>00201         <a class="code" href="classBinaryLoaderElf_1_1VersionedSymbol.html">VersionedSymbol</a> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#f5b21278398e25257abeb60347d5a400">get_versioned_symbol</a>(<a class="code" href="classSgAsmElfSymbol.html">SgAsmElfSymbol</a> *symbol) <span class="keyword">const</span>;
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     <span class="keyword">private</span>:
<a name="l00205"></a>00205         <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#f26f0e7d504081ddf4afc66e4c4f2310">ctor</a>(<a class="code" href="classSgAsmGenericHeader.html">SgAsmGenericHeader</a>*);
<a name="l00206"></a>00206 
<a name="l00209"></a>00209         <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#c0caf76cb2641ea365614f0b594ac742">makeSymbolVersionDefMap</a>(<a class="code" href="classSgAsmElfSymverDefinedSection.html">SgAsmElfSymverDefinedSection</a>*);
<a name="l00210"></a>00210 
<a name="l00214"></a>00214         <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#12989e66b4484a0339ab78e1c3182490">makeSymbolVersionNeedMap</a>(<a class="code" href="classSgAsmElfSymverNeededSection.html">SgAsmElfSymverNeededSection</a>*);
<a name="l00215"></a>00215 
<a name="l00219"></a>00219         <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#44bc11af5fc12958cfeb44a7c644fb0b">makeVersionedSymbolMap</a>(<a class="code" href="classSgAsmElfSymbolSection.html">SgAsmElfSymbolSection</a>*, <a class="code" href="classSgAsmElfSymverSection.html">SgAsmElfSymverSection</a>*);
<a name="l00220"></a>00220 
<a name="l00221"></a><a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#b023aa8628c107ef45be3ff16fe9fa82">00221</a>         <span class="keyword">typedef</span> std::map&lt;SgAsmElfSymbol*, VersionedSymbol*&gt; <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#b023aa8628c107ef45be3ff16fe9fa82">VersionedSymbolMap</a>;
<a name="l00222"></a><a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#1086e5f5098490a1601ac9cb8e8a2805">00222</a>         <span class="keyword">typedef</span> std::map&lt;uint16_t, SgAsmElfSymverDefinedEntry*&gt; <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#1086e5f5098490a1601ac9cb8e8a2805">SymbolVersionDefinitionMap</a>;
<a name="l00223"></a><a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#0817b3deb82984e74ff2073696da4f39">00223</a>         <span class="keyword">typedef</span> std::map&lt;uint16_t, SgAsmElfSymverNeededAux*&gt; <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#0817b3deb82984e74ff2073696da4f39">SymbolVersionNeededMap</a>;
<a name="l00224"></a>00224 
<a name="l00226"></a><a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#e0cdc3870c1ff5bda140298df50ad2e3">00226</a>         <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#1086e5f5098490a1601ac9cb8e8a2805">SymbolVersionDefinitionMap</a> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#e0cdc3870c1ff5bda140298df50ad2e3">p_symbolVersionDefMap</a>;
<a name="l00227"></a>00227 
<a name="l00232"></a><a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#34f01ab5336283c8afa057cbfbd2fd76">00232</a>         <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#0817b3deb82984e74ff2073696da4f39">SymbolVersionNeededMap</a> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#34f01ab5336283c8afa057cbfbd2fd76">p_symbolVersionNeedMap</a>;
<a name="l00233"></a>00233 
<a name="l00235"></a><a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#0680ad9e3b605b7e4d0f30484db8a16e">00235</a>         <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#b023aa8628c107ef45be3ff16fe9fa82">VersionedSymbolMap</a> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html#0680ad9e3b605b7e4d0f30484db8a16e">p_versionedSymbolMap</a>;
<a name="l00236"></a>00236     };
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 <span class="keyword">protected</span>:
<a name="l00242"></a>00242     <span class="keyword">virtual</span> <a class="code" href="Cxx__Grammar_8h.html#af7ee9051414ea5a9e6e9697fe2cc6e2">SgAsmGenericSectionPtrList</a> <a class="code" href="classBinaryLoaderElf.html#71e72c44673047d149e21ef316edff38">get_remap_sections</a>(<a class="code" href="classSgAsmGenericHeader.html">SgAsmGenericHeader</a>*);
<a name="l00243"></a>00243 
<a name="l00245"></a>00245     <span class="keyword">virtual</span> <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="classBinaryLoaderElf.html#def623edb1c97df4f26c08d5c855343c">rebase</a>(<a class="code" href="classMemoryMap.html">MemoryMap</a>*, <a class="code" href="classSgAsmGenericHeader.html">SgAsmGenericHeader</a>*, <span class="keyword">const</span> <a class="code" href="Cxx__Grammar_8h.html#af7ee9051414ea5a9e6e9697fe2cc6e2">SgAsmGenericSectionPtrList</a>&amp;);
<a name="l00246"></a>00246 
<a name="l00248"></a>00248     <span class="keyword">virtual</span> <a class="code" href="classBinaryLoader.html#7355a24bd79594030d0b995863f1b1a4">MappingContribution</a> <a class="code" href="classBinaryLoaderElf.html#2549ffeb5d437e927af1098755ff610c">align_values</a>(<a class="code" href="classSgAsmGenericSection.html">SgAsmGenericSection</a>*, <a class="code" href="classMemoryMap.html">MemoryMap</a>*,
<a name="l00249"></a>00249                                              <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> *malign_lo, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> *malign_hi,
<a name="l00250"></a>00250                                              <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> *va, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> *mem_size,
<a name="l00251"></a>00251                                              <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> *offset, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> *file_size, <span class="keywordtype">bool</span> *map_private,
<a name="l00252"></a>00252                                              <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> *va_offset, <span class="keywordtype">bool</span> *anon_lo, <span class="keywordtype">bool</span> *anon_hi, 
<a name="l00253"></a>00253                                              <a class="code" href="classBinaryLoader.html#f9319842658bcef8e14cdf718de8c999">ConflictResolution</a> *resolve);
<a name="l00254"></a>00254 
<a name="l00258"></a>00258     <span class="keyword">virtual</span> <a class="code" href="classSgAsmGenericSection.html">SgAsmGenericSection</a> *<a class="code" href="classBinaryLoaderElf.html#ecb1d500da9ee4de009ff554f053b39e">find_section_by_preferred_va</a>(<a class="code" href="classSgAsmGenericHeader.html">SgAsmGenericHeader</a>*, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> va);
<a name="l00259"></a>00259 
<a name="l00263"></a>00263     <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf.html#3c7441a94b174099d4dc6cbcb5a195a3">build_master_symbol_table</a>(<a class="code" href="classSgAsmInterpretation.html">SgAsmInterpretation</a>*);
<a name="l00264"></a>00264 
<a name="l00265"></a>00265     <span class="comment">/*========================================================================================================================</span>
<a name="l00266"></a>00266 <span class="comment">     * Methods returning prerequisite information for fixups.  These names all begin with "fixup_info_".</span>
<a name="l00267"></a>00267 <span class="comment">     *======================================================================================================================== */</span>
<a name="l00268"></a>00268 <span class="keyword">protected</span>:
<a name="l00269"></a>00269 
<a name="l00278"></a>00278     <a class="code" href="classSgAsmElfSymbol.html">SgAsmElfSymbol</a> *<a class="code" href="classBinaryLoaderElf.html#c4d450cd8ab49f477dbaf3f586ee3d9a">fixup_info_reloc_symbol</a>(<a class="code" href="classSgAsmElfRelocEntry.html">SgAsmElfRelocEntry</a>*, <span class="keyword">const</span> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html">SymverResolver</a>&amp;);
<a name="l00279"></a>00279 
<a name="l00289"></a>00289     <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="classBinaryLoaderElf.html#d00baf4d52b855b9b2aec36326e42c16">fixup_info_target_va</a>(<a class="code" href="classSgAsmElfRelocEntry.html">SgAsmElfRelocEntry</a>*, <a class="code" href="classSgAsmGenericSection.html">SgAsmGenericSection</a> **section_p=NULL, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> *adj_p=NULL);
<a name="l00290"></a>00290 
<a name="l00300"></a>00300     <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="classBinaryLoaderElf.html#3236b21d7dd4267c56df62cbbd8cc298">fixup_info_symbol_va</a>(<a class="code" href="classSgAsmElfSymbol.html">SgAsmElfSymbol</a>*, <a class="code" href="classSgAsmGenericSection.html">SgAsmGenericSection</a> **section_p=NULL, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> *adj_p=NULL);
<a name="l00301"></a>00301 
<a name="l00311"></a>00311     <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="classBinaryLoaderElf.html#a39dcae52c93a93f3e15a76d29ad3882">fixup_info_addend</a>(<a class="code" href="classSgAsmElfRelocEntry.html">SgAsmElfRelocEntry</a>*, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> target_va, <a class="code" href="classMemoryMap.html">MemoryMap</a>*, size_t nbytes=0);
<a name="l00312"></a>00312 
<a name="l00345"></a>00345     <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> <a class="code" href="classBinaryLoaderElf.html#7c7220c94440ac3d53ddf8b864425fe0">fixup_info_expr</a>(<span class="keyword">const</span> std::string &amp;expression, <a class="code" href="classSgAsmElfRelocEntry.html">SgAsmElfRelocEntry</a> *reloc, <span class="keyword">const</span> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html">SymverResolver</a> &amp;resolver,
<a name="l00346"></a>00346                                 <a class="code" href="classMemoryMap.html">MemoryMap</a> *memmap, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> *target_va_p=NULL);
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 
<a name="l00349"></a>00349 
<a name="l00350"></a>00350     <span class="comment">/*========================================================================================================================</span>
<a name="l00351"></a>00351 <span class="comment">     * Methods that apply a relocation fixup.  These names all begin with "fixup_apply_".</span>
<a name="l00352"></a>00352 <span class="comment">     *======================================================================================================================== */</span>
<a name="l00353"></a>00353 <span class="keyword">protected</span>:
<a name="l00364"></a>00364     <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf.html#8bef1193273ebbd4af60589df41fbef9">fixup_apply</a>(<a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> value, <a class="code" href="classSgAsmElfRelocEntry.html">SgAsmElfRelocEntry</a>*, <a class="code" href="classMemoryMap.html">MemoryMap</a>*, <a class="code" href="rosedefs_8h.html#03b4aab6bc70ede394422915678b18df">rose_addr_t</a> target_va=0, size_t nbytes=0);
<a name="l00365"></a>00365 
<a name="l00368"></a>00368     <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf.html#208eb74c74441b07071580631c786e4c">fixup_apply_symbol_copy</a>(<a class="code" href="classSgAsmElfRelocEntry.html">SgAsmElfRelocEntry</a>*, <span class="keyword">const</span> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html">SymverResolver</a>&amp;, <a class="code" href="classMemoryMap.html">MemoryMap</a>*);
<a name="l00369"></a>00369 
<a name="l00370"></a>00370     <span class="comment">/*========================================================================================================================</span>
<a name="l00371"></a>00371 <span class="comment">     * Functions moved here from the BinaryLoader_ElfSupport name space.</span>
<a name="l00372"></a>00372 <span class="comment">     *======================================================================================================================== */</span>
<a name="l00373"></a>00373 <span class="keyword">protected</span>:
<a name="l00374"></a>00374     <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf.html#226295f86f0a647b34d9d36f429d5f92">performRelocation</a>(<a class="code" href="classSgAsmElfRelocEntry.html">SgAsmElfRelocEntry</a>*, <span class="keyword">const</span> <a class="code" href="classBinaryLoaderElf_1_1SymverResolver.html">SymverResolver</a>&amp;, <a class="code" href="classMemoryMap.html">MemoryMap</a>*);
<a name="l00375"></a>00375     <span class="keywordtype">void</span> <a class="code" href="classBinaryLoaderElf.html#36100f3247dc41f9b05e5185fb2d03db">performRelocations</a>(<a class="code" href="classSgAsmElfFileHeader.html">SgAsmElfFileHeader</a>*, <a class="code" href="classMemoryMap.html">MemoryMap</a>*);
<a name="l00376"></a>00376 
<a name="l00377"></a>00377     <span class="comment">/*========================================================================================================================</span>
<a name="l00378"></a>00378 <span class="comment">     * Data members</span>
<a name="l00379"></a>00379 <span class="comment">     *======================================================================================================================== */</span>
<a name="l00380"></a>00380 <span class="keyword">protected</span>:
<a name="l00381"></a>00381 
<a name="l00384"></a><a class="code" href="classBinaryLoaderElf.html#03b906b28532b9b5f18c5a61aed1c31e">00384</a>     <a class="code" href="classBinaryLoaderElf_1_1SymbolMap.html">SymbolMap</a> <a class="code" href="classBinaryLoaderElf.html#03b906b28532b9b5f18c5a61aed1c31e">p_symbols</a>;
<a name="l00385"></a>00385 };
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 <span class="preprocessor">#endif </span><span class="comment">/*ROSE_BINARYLOADERELF_H*/</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on 20 Jan 2013 for ROSE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
